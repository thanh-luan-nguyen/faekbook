/*! For license information please see main.d2a85eeb.chunk.js.LICENSE.txt */
(this.webpackJsonpfaekbook=this.webpackJsonpfaekbook||[]).push([[0],{87:function(e,n,t){},88:function(e,n,t){"use strict";t.r(n);var r,o,i,c,a,s,l,d=t(14),u=t(6),m=t.n(u),b=t(64),h=t.n(b),g=t(1),f=t.n(g),j=t(2),p=t(10),O=t(15),v={navbar_elements_height:"3rem",navbar_column_gap:"1rem",navbar_height:"4.5rem",dropdown_menu_bdr_rds:"10px",ButtonCSS:Object(O.b)(r||(r=Object(d.a)(["\n    font-size: inherit;\n    border-radius: 0.5rem;\n    font-size: inherit;\n    padding: 1.25rem 1.75rem;\n    font-weight: 700;\n    border: none;\n    color: white;\n    background-color: #42b72a;\n    width: 100%;\n    :hover {\n      cursor: pointer;\n    }\n  "]))),InputCSS:Object(O.b)(o||(o=Object(d.a)(["\n    outline: none;\n    border: 1px solid #dddfe2;\n    border-radius: 0.5rem;\n    width: 100%;\n    font-size: inherit;\n    padding: 1.25rem 1.75rem;\n    ::placeholder {\n      color: #90949c;\n      font-weight: 100;\n    }\n  "])))},x=Object(O.b)(i||(i=Object(d.a)(["\n  aspect-ratio: 1/1;\n  object-fit: cover;\n  object-position: 50% 20%;\n"]))),k=Object(O.b)(c||(c=Object(d.a)(["\n  ::-webkit-scrollbar {\n    width: 0.3rem;\n    height: 0.5rem;\n  }\n  ::-webkit-scrollbar-thumb {\n    background: ",";\n    border-radius: 10px;\n  }\n  ::-webkit-scrollbar-track {\n    border-radius: 10px;\n    margin-block: 0.5rem;\n  }\n"])),(function(e){return e.theme.font_lighter_1})),_=v,w=t(35),y=t(69),S=Object(u.createContext)({}),D={light:{type:"light",bxShdw:"rgba(50, 50, 93, 0.25) 0 0 5px -1px, rgba(0, 0, 0, 0.3) 0 0 3px -1px",main_bgclr:"#fff",nav_btm_brdr_clr:"#fff",font:"#050505",font_lighter:"#65676b",font_lighter_1:"#65676b80",divider_clr:"#ced0d4",hover:"#d4d4d434",icon_color:"#1d1f23",theme_toggler_bgclr:"#e6e8ed",theme_toggler_bgclr_active:"#E7F3FF",theme_toggler_icon_active:"#0571ED",body:"#f0f2f5",like_icon_bgclr:"#fff",avatar_pic_cam_icon_bgclr:"#e4e6eb",whats_on_ur_mind_bgclr:"#F0F2F5",tooltip_bgclr:"#4e5052",tooltip_fontclr:"#b0b3b8"},dark:{type:"dark",bxShdw:"rgba(255, 255, 255) 0 0 5px -1px, rgba(255, 255, 255) 0 0 3px -1px",main_bgclr:"#242526",nav_btm_brdr_clr:"#393a3b",font:"#e4e6eb",font_lighter:"#b0b3b8",font_lighter_1:"#b0b3b880",divider_clr:"#3e4042",hover:"#ffffff45",icon_color:"#e4e6ea",theme_toggler_bgclr:"#4e5052",theme_toggler_bgclr_active:"#263951",theme_toggler_icon_active:"#2D86FF",body:"#18191a",like_icon_bgclr:"#3a3b3c",avatar_pic_cam_icon_bgclr:"#3a3b3c",whats_on_ur_mind_bgclr:"#3a3b3c",tooltip_bgclr:"#e6e8ed",tooltip_fontclr:"#65676b"}},I=t(24),C="https://firebasestorage.googleapis.com/v0/b/faekbook1-aa0f8.appspot.com/o/defaults%2FdefaultAvatar.png?alt=media&token=a153e1b2-261c-4c56-a516-27a85bac7ec6",N=t(4),E=Object(O.d)(a||(a=Object(d.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(359deg);\n  }\n"]))),T=Object(O.c)("nav")(s||(s=Object(d.a)(["\n  position: sticky;\n  top: 0;\n  background: ",";\n  height: ",";\n  box-shadow: ",";\n  border-bottom: 1px solid ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-inline: 1rem;\n  z-index: 200;\n  .left {\n    display: flex;\n    align-items: center;\n    column-gap: ",";\n    font-size: 2rem;\n    font-weight: 700;\n    a {\n      text-decoration: none;\n      .fb-icon,\n      .faekbook {\n        color: ",";\n        :hover {\n          cursor: pointer;\n        }\n      }\n      .fb-icon {\n        height: ",";\n        width: ",";\n        animation: "," 2s infinite linear;\n      }\n    }\n  }\n  .right {\n    display: flex;\n    column-gap: ",";\n    .toggle-dropdown-menu {\n      height: ",";\n      width: ",";\n      border-radius: 50%;\n      background: ",";\n      font-size: ",";\n      color: ",";\n      :hover {\n        cursor: pointer;\n        filter: brightness(",");\n      }\n    }\n    a .user-profile-button,\n    .log-in-button {\n      height: ",";\n      border-radius: 50px;\n      display: flex;\n      align-items: center;\n      font-weight: 700;\n      font-size: 1.25rem;\n      color: ",";\n      :hover {\n        cursor: pointer;\n        background: ",";\n      }\n    }\n    a {\n      text-decoration: none;\n      .user-profile-button {\n        column-gap: 0.6rem;\n        padding-left: 0.35rem;\n        padding-right: 0.6rem;\n        img {\n          height: calc("," - 0.5rem);\n          width: calc("," - 0.5rem);\n          background: ",";\n          ","\n        }\n      }\n    }\n    .log-in-button {\n      padding-inline: 1rem;\n    }\n  }\n"])),(function(e){return e.theme.main_bgclr}),_.navbar_height,(function(e){return e.theme.bxShadw}),(function(e){return e.theme.nav_btm_brdr_clr}),_.navbar_column_gap,(function(e){return e.theme.font}),_.navbar_elements_height,_.navbar_elements_height,E,_.navbar_column_gap,_.navbar_elements_height,_.navbar_elements_height,(function(e){return e.menuVisibility?e.theme.theme_toggler_bgclr_active:e.theme.theme_toggler_bgclr}),_.navbar_elements_height,(function(e){return e.menuVisibility?e.theme.theme_toggler_icon_active:e.theme.icon_color}),(function(e){return"light"===e.theme.type?"0.9":"1.3"}),_.navbar_elements_height,(function(e){return e.theme.font}),(function(e){return e.menuVisibility?e.theme.theme_toggler_bgclr_active:e.theme.theme_toggler_bgclr}),_.navbar_elements_height,_.navbar_elements_height,(function(e){return e.theme.theme_toggler_bgclr}),x),U=function(){var e=Object(u.useContext)(S),n=e.toggleState,t=e.isUserSignedIn,r=e.CUAvatarURL,o=e.currentUserInfo,i=e.dispatchToggle,c=e.dispatchDimBgModal,a=Object(N.jsx)(I.b,{to:"/faekbook/".concat(null===o||void 0===o?void 0:o.uid),children:Object(N.jsxs)("div",{className:"user-profile-button",children:[Object(N.jsx)("img",{src:t?r||C:void 0,alt:"avatar"}),t&&(null===o||void 0===o?void 0:o.first_name)]})}),s=Object(N.jsx)("div",{className:"log-in-button",onClick:function(){return c({type:"LOG_IN"})},children:"Log In"});return Object(N.jsxs)(T,{theme:n.isDarkTheme?D.dark:D.light,menuVisibility:n.dropDownMenuIsVisible?1:0,children:[Object(N.jsxs)("div",{className:"left",children:[Object(N.jsx)(I.b,{to:"/faekbook/",children:Object(N.jsx)(w.c,{className:"fb-icon"})}),Object(N.jsx)(I.b,{to:"/faekbook/",children:Object(N.jsx)("span",{className:"faekbook",children:"faekbook"})})]}),Object(N.jsxs)("div",{className:"right",children:[t?a:s,Object(N.jsx)("div",{className:"toggle-dropdown-menu",onClick:function(e){e.stopPropagation(),i({type:"TOGGLE_DROP_DOWN_MENU"})},children:Object(N.jsx)(y.a,{})})]})]})},z=t(33),L=function(e,n){switch(n.type){case"DARK_THEME":return Object(z.a)(Object(z.a)({},e),{},{isDarkTheme:!0});case"LIGHT_THEME":return Object(z.a)(Object(z.a)({},e),{},{isDarkTheme:!1});case"TOGGLE_THEME":return Object(z.a)(Object(z.a)({},e),{},{isDarkTheme:!e.isDarkTheme});case"TOGGLE_DROP_DOWN_MENU":return Object(z.a)(Object(z.a)({},e),{},{dropDownMenuIsVisible:!e.dropDownMenuIsVisible});default:return e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"close modals"},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOG_IN":return{action:"show login modal"};case"SIGN_UP":return{action:"show signup modal"};case"CREATE_POST":return{action:"show create-post modal"};case"EDIT_POST":return{action:"show edit-post"};case"NONE":return{action:"close modals"};default:return e}},P=t(18),R=t(3),B=t(5),G=t(13),F=t(70),A=t(34),V=t(45),H=t(38),W=Object(F.a)({apiKey:"AIzaSyAowcCuiyILtMdMP96n-RzUh2QVKvrN4OQ",authDomain:"faekbook1-aa0f8.firebaseapp.com",projectId:"faekbook1-aa0f8",storageBucket:"faekbook1-aa0f8.appspot.com",messagingSenderId:"989041805197",appId:"1:989041805197:web:7661cc2571e3fb3317dfc4"}),K=Object(V.b)(),X=Object(A.b)(),q=Object(H.b)(W),J=function(){function e(){Object(R.a)(this,e)}return Object(B.a)(e,null,[{key:"signUp",value:function(n,t,r,o,i){return Object(V.a)(K,n,t).then((function(c){var a=c.user.uid,s={uid:a,first_name:r,last_name:o,short_bio:"my bio",is_dark_theme:!1};Q.setUser(a,s),e.signIn(n,t,i),console.log("Signed up successfully: ",c)})).catch((function(e){alert("Sign up Error: ".concat(e.code,". ").concat(e.message))}))}},{key:"signIn",value:function(e,n,t){Object(V.c)(K,e,n).then((function(e){t(),console.log("User with email ".concat(e.user.email," has logged in successfully"))})).catch((function(e){return alert("Sign in Error: ".concat(e.code,". ").concat(e.message))}))}},{key:"signOut",value:function(){Object(V.d)(K).then((function(){console.log("Signed out successfully")})).catch((function(e){alert("Signout failed: "+e)}))}}]),e}(),Q=function(){function e(){Object(R.a)(this,e)}return Object(B.a)(e,null,[{key:"setUser",value:function(e,n){Object(A.c)(Object(A.a)(X,"users",e),n)}},{key:"updateUserInfo",value:function(e,n){Object(A.d)(Object(A.a)(X,"users",e),n)}},{key:"setSnapshotListener",value:function(e,n){return Object(G.j)(e,(function(e){var t=[];e.forEach((function(e){return t.push(Object(z.a)(Object(z.a)({},e.data()),{},{id:e.id}))})),n(t)}))}},{key:"like",value:function(e,n,t){Object(G.f)(Object(A.a)(X,t,n)).then(function(){var r=Object(j.a)(f.a.mark((function r(o){var i,c,a,s,l,d;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=null===(i=o.data())||void 0===i?void 0:i.likes,a=c.map((function(e){return e.userID})),r.next=4,Object(H.a)(Object(H.c)(q,"users/".concat(e,"/avatar")));case 4:return s=r.sent,r.next=7,Object(G.f)(Object(A.a)(X,"users",e));case 7:l=r.sent,d=null===l||void 0===l?void 0:l.data(),a.includes(e)?c.splice(a.indexOf(e),1):c.push({userID:e,full_name:"".concat(null===d||void 0===d?void 0:d.first_name," ").concat(null===d||void 0===d?void 0:d.last_name),avatarURL:s}),Object(A.d)(Object(A.a)(X,t,n),{likes:c});case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}]),e}(),Y=function(){function e(){Object(R.a)(this,e)}return Object(B.a)(e,null,[{key:"updatePhotoURL",value:function(e,n,t){var r=Object(H.c)(q,"users/".concat(e,"/avatar")),o=Object(H.c)(q,"users/".concat(e,"/cover_image"));Object(H.a)(r).then((function(e){n(e)})).catch((function(e){console.log(e),n(null)})),t&&Object(H.a)(o).then((function(e){return t(e)})).catch((function(e){return console.log(e)}))}}]),e}();function Z(){var e=Object(u.useContext)(S),n=e.toggleState,t=e.dispatchDimBgModal;return Object(N.jsx)(ee,{id:"turn-off-modal",theme:n.isDarkTheme?D.dark:D.light,onClick:function(){return t({type:"NONE"})},children:"+"})}var $,ee=O.c.span(l||(l=Object(d.a)(["\n  position: absolute;\n  top: 1rem;\n  right: 1.75rem;\n  font-size: 3.5rem;\n  transform: rotate(45deg);\n  font-weight: initial;\n  color: ",";\n  :hover {\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.font}));function ne(){var e=Object(u.useState)(""),n=Object(p.a)(e,2),t=n[0],r=n[1],o=Object(u.useState)(""),i=Object(p.a)(o,2),c=i[0],a=i[1],s=Object(u.useContext)(S),l=s.toggleState,d=s.dispatchDimBgModal;return Object(N.jsxs)(re,{theme:l.isDarkTheme?D.dark:D.light,children:[Object(N.jsx)(Z,{}),Object(N.jsxs)("div",{id:"top",children:[Object(N.jsx)("div",{children:"Welcome Back!"}),Object(N.jsx)("input",{type:"text",value:t,onChange:function(e){return r(e.target.value)},placeholder:"Email or Phone Number"}),Object(N.jsx)("input",{type:"password",value:c,onChange:function(e){return a(e.target.value)},placeholder:"Password"}),Object(N.jsx)("button",{className:"log-in-btn",onClick:function(){J.signIn(t,c,(function(){return d({type:"NONE"})}))},children:"Log In"})]}),Object(N.jsx)("div",{className:"divider"}),Object(N.jsxs)("div",{id:"bottom",children:[Object(N.jsx)("span",{children:"New to Faekbook?"}),Object(N.jsx)("button",{className:"create-new-acc-btn",onClick:function(){return d({type:"SIGN_UP"})},children:"Create New Account"})]})]})}var te,re=O.c.div($||($=Object(d.a)(["\n  width: 40rem;\n  max-width: 100vw;\n  display: flex;\n  flex-flow: column;\n  padding: 1.5rem;\n  #top,\n  #bottom {\n    display: flex;\n    align-items: center;\n    flex-flow: column;\n    row-gap: 1.25rem;\n    font-size: 1.75rem;\n  }\n  #top {\n    div {\n      align-self: flex-start;\n      font-weight: 500;\n      font-size: 2.25rem;\n      color: #1c1e21;\n      margin: 0.5rem auto 0.75rem 1rem;\n    }\n    input {\n      ","\n    }\n    .log-in-btn {\n      ","\n      width: 100%;\n      background-color: #1877f2;\n    }\n  }\n  .divider {\n    background-color: #dddfe2;\n    height: 1px;\n    width: 100%;\n    margin-block: 2rem;\n  }\n  #bottom {\n    span {\n      font-size: 1.25rem;\n    }\n    .create-new-acc-btn {\n      ","\n      width: 60%;\n    }\n  }\n"])),_.InputCSS,_.ButtonCSS,_.ButtonCSS);function oe(){var e=Object(u.useState)(""),n=Object(p.a)(e,2),t=n[0],r=n[1],o=Object(u.useState)(""),i=Object(p.a)(o,2),c=i[0],a=i[1],s=Object(u.useState)(""),l=Object(p.a)(s,2),d=l[0],m=l[1],b=Object(u.useState)(""),h=Object(p.a)(b,2),g=h[0],f=h[1],j=Object(u.useContext)(S),O=j.toggleState,v=j.dispatchDimBgModal;return Object(N.jsxs)(se,{theme:O.isDarkTheme?D.dark:D.light,children:[Object(N.jsx)(Z,{}),Object(N.jsxs)("div",{id:"top",children:[Object(N.jsx)("div",{children:"Sign Up"}),Object(N.jsx)("div",{children:"It's quick and easy"})]}),Object(N.jsx)("div",{className:"divider"}),Object(N.jsxs)("div",{id:"middle",children:[Object(N.jsxs)("div",{className:"full-name",children:[Object(N.jsx)("input",{type:"text",placeholder:"First name",value:t,onChange:function(e){return r(e.target.value)}}),Object(N.jsx)("input",{type:"text",placeholder:"Last name",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(N.jsx)("input",{type:"email",placeholder:"Email",value:d,onChange:function(e){return m(e.target.value)}}),Object(N.jsx)("input",{type:"password",placeholder:"New password",value:g,onChange:function(e){return f(e.target.value)}}),Object(N.jsx)("button",{className:"sign-up",onClick:function(){J.signUp(d,g,t,c,(function(){return v({type:"NONE"})}))},children:"Sign Up"})]}),Object(N.jsx)("div",{className:"divider"}),Object(N.jsxs)("div",{id:"bottom",children:[Object(N.jsx)("span",{children:"Already have an account?"}),Object(N.jsx)("button",{onClick:function(){return v({type:"LOG_IN"})},children:"Log In"})]})]})}var ie,ce,ae,se=O.c.div(te||(te=Object(d.a)(["\n  width: 45rem;\n  max-width: 100vw;\n  #top,\n  #middle,\n  #bottom {\n    padding: 1.5rem;\n    display: flex;\n    flex-flow: column;\n    row-gap: 1rem;\n    align-items: center;\n    & button {\n      ",";\n    }\n  }\n  #top {\n    align-items: flex-start;\n    div:first-of-type {\n      font-weight: 600;\n      font-size: 3rem;\n      color: #1c1e21;\n    }\n    div:last-of-type {\n      color: #6d747c;\n      font-size: 1.5rem;\n    }\n  }\n  #middle {\n    font-size: 1.5rem;\n    & input {\n      ","\n    }\n    .full-name {\n      width: 100%;\n      display: flex;\n      column-gap: 0.75rem;\n    }\n    button {\n      margin-top: 1.5rem;\n    }\n  }\n  #bottom {\n    span {\n      font-size: 1.25rem;\n    }\n    button {\n      font-size: 1.5rem;\n      width: 50%;\n      background-color: #1877f2;\n    }\n  }\n  .divider {\n    background-color: #dddfe2;\n    height: 1px;\n    width: 100%;\n  }\n"])),_.ButtonCSS,_.InputCSS),le=Object(O.c)("button")(ie||(ie=Object(d.a)(["\n  background-color: ",";\n  color: ",";\n  border: none;\n  padding: 1rem 1.5rem;\n  border-radius: 5px;\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin-top: 2rem;\n  align-self: center;\n  :hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.main_bgclr}),(function(e){return e.theme.font}),(function(e){return e.isDarkTheme?"#525252ac":"#ebebebae"})),de=function(e){var n=e.addMorePosts,t=Object(u.useContext)(S).toggleState;return Object(N.jsx)(le,{theme:t.isDarkTheme?D.dark:D.light,isDarkTheme:t.isDarkTheme?1:0,onClick:n,children:"Show More"})},ue=Object(O.c)("div")(ce||(ce=Object(d.a)(["\n  :hover {\n    cursor: pointer;\n    .name {\n      display: block;\n    }\n  }\n  .name {\n    display: none;\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    margin-top: 5rem;\n    padding: 1rem 1.5rem;\n    border-radius: 10px;\n    background: ",";\n    color: ",";\n    z-index: 100;\n    font-size: 1.25rem;\n    font-weight: 600;\n  }\n  img {\n    height: 4rem;\n    width: 4rem;\n    background: ",";\n    ",";\n  }\n"])),(function(e){return e.theme.tooltip_bgclr}),(function(e){return e.theme.tooltip_fontclr}),(function(e){return e.theme.theme_toggler_bgclr}),x),me=function(e){var n=e.userID,t=Object(u.useContext)(S).toggleState,r=Object(u.useState)(null),o=Object(p.a)(r,2),i=o[0],c=o[1],a=Object(u.useState)(null),s=Object(p.a)(a,2),l=s[0],d=s[1];return Object(u.useEffect)((function(){Y.updatePhotoURL(n,c),Object(G.f)(Object(G.e)(X,"users",n)).then((function(e){var n=e.data();d(n)}))}),[]),Object(N.jsx)(I.b,{to:"/faekbook/".concat(n),children:Object(N.jsxs)(ue,{theme:t.isDarkTheme?D.dark:D.light,children:[Object(N.jsx)("div",{className:"name",children:(null===l||void 0===l?void 0:l.first_name)+" "+(null===l||void 0===l?void 0:l.last_name)}),Object(N.jsx)("img",{src:i||C,alt:"avatar"})]})})};function be(){var e=Object(u.useContext)(S),n=e.toggleState,t=e.isUserSignedIn,r=Object(u.useState)(null),o=Object(p.a)(r,2),i=o[0],c=o[1];Object(u.useEffect)((function(){var e=Object(G.c)(X,"users"),n=Q.setSnapshotListener(Object(G.l)(e),c);return console.log("AllUsers render"),function(){n()}}),[t]);var a=null===i||void 0===i?void 0:i.map((function(e){return Object(N.jsx)(me,{userID:e.uid},e.uid)}));return Object(N.jsx)(_e,{theme:n.isDarkTheme?D.dark:D.light,children:a})}var he,ge,fe,je,pe,Oe,ve,xe,ke,_e=O.c.section(ae||(ae=Object(d.a)(["\n  background-color: ",";\n  width: 50rem;\n  max-width: 100%;\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  column-gap: 1rem;\n  margin-inline: auto;\n  border-radius: 1rem;\n  margin-top: 2rem;\n  overflow-y: auto;\n  ",";\n"])),(function(e){return e.theme.main_bgclr}),k),we=t(51),ye=t(37),Se=t(90),De=t(59),Ie=function(e){var n=e.setIsShowingViewLikes;return Object(N.jsx)("img",{className:"icon",onClick:function(){return n&&n(!0)},src:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='0%25' y2='100%25'%3e%3cstop offset='0%25' stop-color='%2318AFFF'/%3e%3cstop offset='100%25' stop-color='%230062DF'/%3e%3c/linearGradient%3e%3cfilter id='c' width='118.8%25' height='118.8%25' x='-9.4%25' y='-9.4%25' filterUnits='objectBoundingBox'%3e%3cfeGaussianBlur in='SourceAlpha' result='shadowBlurInner1' stdDeviation='1'/%3e%3cfeOffset dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1'/%3e%3cfeComposite in='shadowOffsetInner1' in2='SourceAlpha' k2='-1' k3='1' operator='arithmetic' result='shadowInnerInner1'/%3e%3cfeColorMatrix in='shadowInnerInner1' values='0 0 0 0 0 0 0 0 0 0.299356041 0 0 0 0 0.681187726 0 0 0 0.3495684 0'/%3e%3c/filter%3e%3cpath id='b' d='M8 0a8 8 0 00-8 8 8 8 0 1016 0 8 8 0 00-8-8z'/%3e%3c/defs%3e%3cg fill='none'%3e%3cuse fill='url(%23a)' xlink:href='%23b'/%3e%3cuse fill='black' filter='url(%23c)' xlink:href='%23b'/%3e%3cpath fill='white' d='M12.162 7.338c.176.123.338.245.338.674 0 .43-.229.604-.474.725a.73.73 0 01.089.546c-.077.344-.392.611-.672.69.121.194.159.385.015.62-.185.295-.346.407-1.058.407H7.5c-.988 0-1.5-.546-1.5-1V7.665c0-1.23 1.467-2.275 1.467-3.13L7.361 3.47c-.005-.065.008-.224.058-.27.08-.079.301-.2.635-.2.218 0 .363.041.534.123.581.277.732.978.732 1.542 0 .271-.414 1.083-.47 1.364 0 0 .867-.192 1.879-.199 1.061-.006 1.749.19 1.749.842 0 .261-.219.523-.316.666zM3.6 7h.8a.6.6 0 01.6.6v3.8a.6.6 0 01-.6.6h-.8a.6.6 0 01-.6-.6V7.6a.6.6 0 01.6-.6z'/%3e%3c/g%3e%3c/svg%3e",alt:"like-icon"})},Ce=t(50),Ne=t(49),Ee=Object(O.c)("div")(he||(he=Object(d.a)(["\n  position: absolute;\n  right: -2rem;\n  top: 5rem;\n  width: 10rem;\n  padding: 0.5rem;\n  z-index: 100;\n  border-radius: ",";\n  background: ",";\n  box-shadow: ",";\n  font-size: 1rem;\n  .icon {\n    display: flex;\n    cursor: pointer;\n    border-radius: ",";\n    padding: 0.5rem;\n    column-gap: 1rem;\n    align-items: center;\n    color: ",";\n    font-weight: 700;\n    :hover {\n      background-color: ",";\n    }\n    .icon-wrapper {\n      height: 2.5rem;\n      width: 2.5rem;\n      border-radius: 50%;\n      background: ",";\n      fill: ",";\n      font-size: 1.25rem;\n      display: grid;\n      place-items: center;\n    }\n  }\n"])),_.dropdown_menu_bdr_rds,(function(e){return e.theme.main_bgclr}),(function(e){return e.theme.bxShdw}),_.dropdown_menu_bdr_rds,(function(e){return e.theme.font}),(function(e){return e.theme.hover}),(function(e){return e.theme.theme_toggler_bgclr}),(function(e){return e.theme.icon_color})),Te=function(e){var n=e.commentID,t=e.setIsEditting,r=e.setIsShowingModal,o=Object(u.useContext)(S).toggleState,i=Object(u.useRef)(null);Object(u.useEffect)((function(){return document.addEventListener("click",c),function(){document.removeEventListener("click",c)}}),[]);var c=function(e){e.target===i.current||r(!1)};return Object(N.jsxs)(Ee,{ref:i,theme:o.isDarkTheme?D.dark:D.light,children:[Object(N.jsxs)("div",{className:"icon",onClick:function(e){e.stopPropagation(),t(!0),r(!1)},children:[Object(N.jsx)("div",{className:"icon-wrapper",children:Object(N.jsx)(Ne.a,{})}),"Edit"]}),Object(N.jsxs)("div",{className:"icon",onClick:function(e){e.stopPropagation(),t(!1),Object(G.d)(Object(G.e)(X,"comments",n))},children:[Object(N.jsx)("div",{className:"icon-wrapper",children:Object(N.jsx)(Ce.a,{})}),"Delete"]})]})},Ue=Object(O.c)("input")(ge||(ge=Object(d.a)(["\n  font-family: inherit;\n  color: ",";\n  border: none;\n  outline: none;\n  flex-grow: 1;\n  padding: 1rem 1.5rem;\n  font-size: 1.5rem;\n  border-radius: 2rem;\n  background: ",";\n  display: flex;\n  align-items: center;\n  :hover {\n    cursor: text;\n    filter: brightness(",");\n  }\n  ::placeholder {\n    color: ",";\n  }\n"])),(function(e){return e.theme.font}),(function(e){return e.theme.whats_on_ur_mind_bgclr}),(function(e){return e.isDarkTheme?"1.1":"0.95"}),(function(e){return e.theme.font_lighter})),ze=function(e){var n=e.commentID,t=e.content,r=e.setIsEditting,o=Object(u.useContext)(S).toggleState,i=Object(u.useState)(""),c=Object(p.a)(i,2),a=c[0],s=c[1];Object(u.useEffect)((function(){t&&s(t)}),[t]);return Object(N.jsx)(Ue,{theme:o.isDarkTheme?D.dark:D.light,isDarkTheme:o.isDarkTheme?1:0,value:a,placeholder:"Write a comment...",onChange:function(e){s(e.target.value)},onKeyDown:function(e){13===e.keyCode&&n&&(Object(G.n)(Object(G.e)(X,"comments",n),{content:a}),r(!1))},autoFocus:!0,onFocus:function(e){return e.currentTarget.setSelectionRange(e.currentTarget.value.length,e.currentTarget.value.length)}})},Le=Object(O.c)("div")(fe||(fe=Object(d.a)(["\n  position: absolute;\n  display: flex;\n  flex-flow: column;\n  z-index: 100;\n  /* z-index: ","; */\n  left: ",";\n  width: ",";\n  padding: 0.5rem;\n  max-height: 18rem;\n  border-radius: ",";\n  background: ",";\n  box-shadow: ",";\n  font-size: ",";\n  overflow: auto;\n  ","\n  #user {\n    a {\n      text-decoration: none;\n      display: flex;\n      cursor: pointer;\n      border-radius: ",";\n      padding: 0.5rem;\n      column-gap: ",";\n      align-items: center;\n      color: ",";\n      font-weight: 700;\n      height: ",";\n      line-height: 1.25;\n      :hover {\n        background-color: ",";\n        text-decoration: none;\n      }\n      .avatar {\n        position: relative;\n        height: ",";\n        width: ",";\n        .image {\n          height: inherit;\n          width: inherit;\n          ",";\n        }\n        .icon {\n          position: absolute;\n          bottom: -0.5rem;\n          right: -0.5rem;\n          height: ",";\n          width: ",";\n        }\n      }\n    }\n  }\n"])),(function(e){return e.isComment&&"100"}),(function(e){return e.isComment?"3.5rem":"4rem"}),(function(e){return e.isComment?"18rem":"25rem"}),_.dropdown_menu_bdr_rds,(function(e){return e.theme.main_bgclr}),(function(e){return e.theme.bxShdw}),(function(e){return e.isComment?"1rem":"1.25rem"}),k,_.dropdown_menu_bdr_rds,(function(e){return e.isComment?"1.25rem":"2rem"}),(function(e){return e.theme.font}),(function(e){return e.isComment?"4rem":"5rem"}),(function(e){return e.theme.hover}),(function(e){return e.isComment?"3rem":"3.5rem"}),(function(e){return e.isComment?"3rem":"3.5rem"}),x,(function(e){return e.isComment?"1.25rem":"1.5rem"}),(function(e){return e.isComment?"1.25rem":"1.5rem"})),Me=function(e){var n=e.setIsShowingViewLikes,t=e.likes,r=e.isComment,o=Object(u.useContext)(S).toggleState,i=Object(u.useRef)(null);Object(u.useEffect)((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[]);var c=t.map((function(e){return Object(N.jsx)("div",{id:"user",children:Object(N.jsxs)(I.b,{to:"/faekbook/".concat(e.userID),children:[Object(N.jsxs)("div",{className:"avatar",children:[Object(N.jsx)("img",{src:e.avatarURL,alt:"avatar",className:"image"}),Object(N.jsx)(Ie,{})]}),Object(N.jsx)("span",{children:e.full_name})]})},e.userID)})),a=function(e){e.target===i.current||n(!1)};return Object(N.jsx)(Le,{ref:i,theme:o.isDarkTheme?D.dark:D.light,isComment:r?1:0,children:c})},Pe=Object(O.c)("div")(je||(je=Object(d.a)(["\n  display: flex;\n  column-gap: 1rem;\n  align-items: center;\n  :hover {\n    & > .middle > .top > .three-dots > .icon > svg {\n      display: block;\n    }\n  }\n  img {\n    height: 3.5rem;\n    width: 3.5rem;\n    ",";\n    :hover {\n      cursor: pointer;\n    }\n  }\n  .middle {\n    .top {\n      display: flex;\n      .bubble {\n        padding: 1rem 1rem 0.5rem;\n        border-radius: 20px;\n        background: ",";\n        font-size: 1.15rem;\n        color: ",";\n        position: relative;\n        min-width: 13.5rem;\n        a {\n          color: inherit;\n          text-decoration: none;\n          .username {\n            font-weight: 500;\n            padding-bottom: 0.25rem;\n            :hover {\n              text-decoration: underline;\n              cursor: pointer;\n            }\n          }\n        }\n        .content {\n          line-height: 1.4;\n        }\n        .like-icon {\n          border-radius: 10px;\n          padding: 0.25rem;\n          background: ",";\n          box-shadow: rgba(0, 0, 0, 0.3) -1px 1px 3px;\n          position: absolute;\n          right: -1.75rem;\n          bottom: 0.25rem;\n          display: flex;\n          align-items: center;\n          font-size: 0.9rem;\n          :hover {\n            cursor: pointer;\n          }\n          img {\n            margin-right: 0.25rem;\n            height: 1.25rem;\n            width: 1.25rem;\n          }\n        }\n      }\n      .three-dots {\n        position: relative;\n        display: grid;\n        place-items: center;\n        border-radius: 50%;\n        width: ",";\n        margin-left: 1rem;\n        font-size: 1.25rem;\n        & > .icon {\n          display: grid;\n          place-items: center;\n          border-radius: 50%;\n          height: 2.5rem;\n          width: 2.5rem;\n          :hover {\n            cursor: pointer;\n            background-color: ",";\n          }\n          svg {\n            display: none;\n          }\n        }\n      }\n    }\n    .like {\n      padding-top: 0.5rem;\n      margin-left: 0.75rem;\n      font-weight: 500;\n      font-size: 0.85rem;\n      span {\n        color: ",";\n        font-weight: 600;\n        font-size: 1rem;\n        padding-right: 1rem;\n        :hover {\n          cursor: pointer;\n        }\n      }\n    }\n  }\n  .cancel {\n    color: #036ee2;\n    :hover {\n      cursor: pointer;\n      text-decoration: underline;\n    }\n  }\n"])),x,(function(e){return e.theme.whats_on_ur_mind_bgclr}),(function(e){return e.theme.font}),(function(e){return e.theme.like_icon_bgclr}),(function(e){return e.hasLikes?"5rem":"2rem"}),(function(e){return e.theme.theme_toggler_bgclr}),(function(e){return e.isLikedByCU&&"#036ee2"})),Re=function(e){var n=e.commenterUID,t=e.content,r=e.date,o=e.likes,i=e.commentID,c=Object(u.useContext)(S),a=c.toggleState,s=c.currentUserInfo,l=c.isUserSignedIn,d=Object(u.useState)(null),m=Object(p.a)(d,2),b=m[0],h=m[1],g=Object(u.useState)(null),f=Object(p.a)(g,2),j=f[0],O=f[1],v=Object(u.useState)(!1),x=Object(p.a)(v,2),k=x[0],_=x[1],w=Object(u.useState)(!1),y=Object(p.a)(w,2),E=y[0],T=y[1],U=Object(u.useState)(!1),z=Object(p.a)(U,2),L=z[0],M=z[1],P=Object(u.useState)(!1),R=Object(p.a)(P,2),B=R[0],F=R[1];return Object(u.useEffect)((function(){Y.updatePhotoURL(n,h),Object(G.f)(Object(G.e)(X,"users",n)).then((function(e){var n=e.data();O(n)}))}),[n]),Object(u.useEffect)((function(){o.map((function(e){return e.userID})).includes(null===s||void 0===s?void 0:s.uid)?M(!0):M(!1)}),[null===s||void 0===s?void 0:s.uid,o]),Object(N.jsxs)(Pe,{theme:a.isDarkTheme?D.dark:D.light,isLikedByCU:L?1:0,hasLikes:o.length>0?1:0,children:[Object(N.jsx)(I.b,{to:"/faekbook/".concat(n),children:Object(N.jsx)("img",{src:b||C,alt:"comment_avatar"})}),B?Object(N.jsx)(ze,{commentID:i,setIsEditting:F,content:t}):Object(N.jsxs)("div",{className:"middle",children:[Object(N.jsxs)("div",{className:"top",children:[Object(N.jsxs)("div",{className:"bubble",children:[Object(N.jsx)(I.b,{to:"/faekbook/".concat(n),children:Object(N.jsxs)("div",{className:"username",children:[null===j||void 0===j?void 0:j.first_name," ",null===j||void 0===j?void 0:j.last_name]})}),Object(N.jsx)("div",{className:"content",children:t}),o.length>=1&&Object(N.jsxs)("div",{className:"like-icon",onClick:function(){return T(!0)},children:[Object(N.jsx)(Ie,{}),Object(N.jsx)("span",{children:o.length}),E&&Object(N.jsx)(Me,{likes:o,setIsShowingViewLikes:T,isComment:!0})]})]}),n===(null===s||void 0===s?void 0:s.uid)&&Object(N.jsxs)("div",{className:"three-dots",children:[Object(N.jsx)("div",{className:"icon",onClick:function(){return _(!k)},children:Object(N.jsx)(we.a,{})}),k&&Object(N.jsx)(Te,{commentID:i,setIsEditting:F,setIsShowingModal:_})]})]}),Object(N.jsxs)("div",{className:"like",children:[l&&Object(N.jsx)("span",{onClick:function(){return Q.like(null===s||void 0===s?void 0:s.uid,i,"comments")},children:"Like"}),"".concat(Object(Se.a)(Object(De.a)(r.seconds),"yyyy, MMM d")," at ").concat(Object(Se.a)(Object(De.a)(r.seconds),"h:mm a"))]})]}),B&&Object(N.jsx)("div",{className:"cancel",onClick:function(){return F(!B)},children:"Cancel"})]})},Be=t(19),Ge=Object(O.c)("div")(pe||(pe=Object(d.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 5rem;\n  width: 20rem;\n  padding: 0.5rem;\n  z-index: 100;\n  border-radius: ",";\n  background: ",";\n  box-shadow: ",";\n  /* profile, edit and delete */\n  .icon {\n    display: flex;\n    cursor: pointer;\n    border-radius: ",";\n    padding: 0.5rem;\n    column-gap: 1rem;\n    align-items: center;\n    color: ",";\n    font-weight: 700;\n    :hover {\n      background-color: ",";\n    }\n    .icon-wrapper {\n      height: ",";\n      width: ",";\n      border-radius: 50%;\n      background: ",";\n      fill: ",";\n      font-size: 1.75rem;\n      display: grid;\n      place-items: center;\n    }\n  }\n"])),_.dropdown_menu_bdr_rds,(function(e){return e.theme.main_bgclr}),(function(e){return e.theme.bxShdw}),_.dropdown_menu_bdr_rds,(function(e){return e.theme.font}),(function(e){return e.theme.hover}),_.navbar_elements_height,_.navbar_elements_height,(function(e){return e.theme.theme_toggler_bgclr}),(function(e){return e.theme.icon_color})),Fe=function(e){var n=e.postID,t=e.setIsShowingModal,r=e.isShowingModal,o=e.photoID,i=Object(u.useContext)(S),c=i.toggleState,a=i.dispatchDimBgModal,s=i.setCBEPost,l=Object(u.useRef)(null);Object(u.useEffect)((function(){return document.addEventListener("click",d),function(){document.removeEventListener("click",d)}}),[]);var d=function(e){e.target===l.current||t(!r)};return Object(N.jsxs)(Ge,{ref:l,theme:c.isDarkTheme?D.dark:D.light,children:[Object(N.jsxs)("div",{className:"icon",onClick:function(e){e.stopPropagation(),t(!1),n&&(s({id:n,photoID:o}),a({type:"EDIT_POST"}))},children:[Object(N.jsx)("div",{className:"icon-wrapper",children:Object(N.jsx)(Ne.a,{})}),"Edit Post"]}),Object(N.jsxs)("div",{className:"icon",onClick:function(e){e.stopPropagation(),t(!1),Object(G.d)(Object(G.e)(X,"posts",n)),o&&Object(Be.a)(Object(Be.d)(q,"post_photos/".concat(o)))},children:[Object(N.jsx)("div",{className:"icon-wrapper",children:Object(N.jsx)(Ce.a,{})}),"Delete Post"]})]})},Ae=t(52),Ve=Object(O.c)("section")(Oe||(Oe=Object(d.a)(["\n  position: relative;\n  background-color: ",";\n  color: ",";\n  width: 50rem;\n  max-width: 100%;\n  margin-inline: auto;\n  border-radius: 1rem;\n  margin-top: 2rem;\n  padding-bottom: ",";\n  & > .three-dots {\n    position: absolute;\n    right: 1.75rem;\n    top: 1.5rem;\n    padding: 0.75rem;\n    border-radius: 50%;\n    :hover {\n      background-color: ",";\n      cursor: pointer;\n    }\n    .icon {\n      font-size: 1.5rem;\n    }\n  }\n  #user-info {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    column-gap: 1rem;\n    padding: 1.5rem 1.5rem 0;\n    img {\n      height: 4rem;\n      width: 4rem;\n      ","\n    }\n    .info {\n      flex-grow: 1;\n      display: flex;\n      flex-flow: column;\n      justify-content: space-around;\n      height: 3.5rem;\n      .name {\n        a {\n          text-decoration: none;\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: ",";\n          :hover {\n            text-decoration: underline;\n          }\n        }\n      }\n    }\n  }\n  #content {\n    font-size: 1.5rem;\n    padding: 1.5rem 1.5rem;\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    line-height: 1.25;\n  }\n  #post-photo {\n    text-align: center;\n    line-height: 0;\n    background-color: ",";\n    .post-photo {\n      border-radius: initial;\n      max-height: 60rem;\n      ","\n    }\n  }\n  #num-likes-cmts {\n    padding-inline: 1.5rem;\n    padding-block: ",";\n    display: flex;\n    justify-content: space-between;\n    .likes {\n      position: relative;\n      display: flex;\n      align-items: center;\n      column-gap: 0.5rem;\n      img {\n        height: 1.75rem;\n        width: 1.75rem;\n        :hover {\n          cursor: pointer;\n        }\n      }\n      .number-of-likes {\n        font-size: 1.25rem;\n        :hover {\n          cursor: pointer;\n          text-decoration: underline;\n        }\n      }\n    }\n    .comments {\n      line-height: 1.8rem;\n      font-size: 1.25rem;\n    }\n  }\n  #like-comment {\n    border-block: "," 1px solid;\n    border-bottom: ",";\n    padding: 0.5rem 1.5rem;\n    display: flex;\n    justify-content: space-between;\n    column-gap: 0.5rem;\n    .like,\n    .comments {\n      height: 3.25rem;\n      border-radius: ",";\n      width: 50%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      column-gap: 0.75rem;\n      background-color: ",";\n      font-size: 1.25rem;\n      font-weight: 600;\n      .icon {\n        font-size: 1.75rem;\n      }\n    }\n    .like {\n      color: ",";\n      :hover {\n        cursor: ",";\n        background-color: ",";\n      }\n    }\n    .comments {\n      color: ",";\n      :hover {\n        cursor: ",";\n        background-color: ",";\n      }\n    }\n  }\n  #comments {\n    padding: 1rem 1.5rem 0;\n    margin-bottom: -0.75rem;\n    display: flex;\n    flex-flow: column;\n    row-gap: 0.75rem;\n  }\n  form.comment-input {\n    background-color: ",";\n    display: flex;\n    align-items: center;\n    column-gap: 1rem;\n    padding: 1.5rem 1.5rem 0;\n    img {\n      height: 3.5rem;\n      width: 3.5rem;\n      background: ",";\n      ","\n    }\n    input {\n      font-family: inherit;\n      color: ",";\n      border: none;\n      outline: none;\n      flex-grow: 1;\n      padding: 1rem 1.5rem;\n      font-size: 1.5rem;\n      border-radius: 2rem;\n      background: ",";\n      display: flex;\n      align-items: center;\n      :hover {\n        cursor: text;\n        filter: brightness(",");\n      }\n      ::placeholder {\n        color: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.main_bgclr}),(function(e){return e.theme.font}),(function(e){return e.isShowingComments?"1.5rem":"0"}),(function(e){return e.theme.theme_toggler_bgclr}),x,(function(e){return e.theme.font}),(function(e){return e.bgGradient}),(function(e){return e.isImgTooHigh?Object(O.b)(ve||(ve=Object(d.a)(["\n              max-width: 100%;\n            "]))):Object(O.b)(xe||(xe=Object(d.a)(["\n              width: 100%;\n            "])))}),(function(e){return e.hasLikes||e.hasComments?"1.25rem":"0"}),(function(e){return e.isDarkTheme?"#474747":"#dddfe2"}),(function(e){return e.isShowingComments||"none"}),_.dropdown_menu_bdr_rds,(function(e){return e.theme.main_bgclr}),(function(e){return e.isUserSignedIn?e.isLikedByCurrentUser?"#036ee2":"unset":e.isDarkTheme?"#525252ac":"#ebebebae"}),(function(e){return e.isUserSignedIn?"pointer":"not-allowed"}),(function(e){return e.isUserSignedIn?e.isDarkTheme?"#64646471":"#ebebebae":"unset"}),(function(e){return e.hasComments||e.isUserSignedIn?"unset":e.isDarkTheme?"#525252ac":"#ebebebae"}),(function(e){return e.isUserSignedIn||e.hasComments?"pointer":"not-allowed"}),(function(e){return e.isUserSignedIn||e.hasComments?e.isDarkTheme?"#64646471":"#ebebebae":"unset"}),(function(e){return e.theme.main_bgclr}),(function(e){return e.theme.theme_toggler_bgclr}),x,(function(e){return e.theme.font}),(function(e){return e.theme.whats_on_ur_mind_bgclr}),(function(e){return e.isDarkTheme?"1.1":"0.95"}),(function(e){return e.theme.font_lighter})),He=function(e){var n=e.full_name,t=e.userID,r=e.postID,o=e.date,i=e.content,c=e.likes,a=e.photo,s=Object(u.useContext)(S),l=s.currentUserInfo,d=s.toggleState,m=s.isUserSignedIn,b=s.CUAvatarURL,h=Object(u.useState)(),g=Object(p.a)(h,2),f=g[0],j=g[1],O=Object(u.useState)(null),v=Object(p.a)(O,2),x=v[0],k=v[1],_=Object(u.useState)(),y=Object(p.a)(_,2),E=y[0],T=y[1],U=Object(u.useState)(""),z=Object(p.a)(U,2),L=z[0],M=z[1],P=Object(u.useState)(),R=Object(p.a)(P,2),B=R[0],F=R[1],A=Object(u.useState)(),V=Object(p.a)(A,2),H=V[0],W=V[1],K=Object(u.useRef)(null),q=Object(u.useState)(!1),J=Object(p.a)(q,2),Z=J[0],$=J[1];Object(u.useEffect)((function(){Y.updatePhotoURL(t,k)}),[t]),Object(u.useEffect)((function(){m?c.map((function(e){return e.userID})).includes(null===l||void 0===l?void 0:l.uid)?j(!0):j(!1):j(!1)}),[null===l||void 0===l?void 0:l.uid,m,c]),Object(u.useEffect)((function(){var e=Object(G.c)(X,"comments"),n=Object(G.l)(e,Object(G.o)("postID","==",r),Object(G.k)("date")),t=Q.setSnapshotListener(n,F);return function(){t()}}),[r]);var ee=null===B||void 0===B?void 0:B.map((function(e){return Object(N.jsx)(Re,{commentID:e.id,commenterUID:e.commenterID,content:e.content,date:e.date,likes:e.likes},e.id)})),ne=Object(u.useRef)(null),te=Object(u.useState)(""),re=Object(p.a)(te,2),oe=re[0],ie=re[1];Object(u.useEffect)((function(){if(a.url){var e=new Ae.a;ne.current&&(ne.current.onload=function(){var n=e.getColor(ne.current).toString();ie("rgba(".concat(n,")"))})}}),[]);var ce=Object(N.jsx)("img",{src:"https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&refresh=2592000&url="+encodeURIComponent(a.url),alt:"post photo",className:"post-photo",ref:ne,crossOrigin:"anonymous"});return Object(N.jsxs)(Ve,{theme:d.isDarkTheme?D.dark:D.light,isDarkTheme:d.isDarkTheme?1:0,isLikedByCurrentUser:f?1:0,hasComments:(null===B||void 0===B?void 0:B.length)>0?1:0,hasLikes:(null===c||void 0===c?void 0:c.length)>0?1:0,isUserSignedIn:m?1:0,isShowingComments:E?1:0,bgGradient:oe,isImgTooHigh:ne.current&&ne.current.clientHeight>=60*parseFloat(getComputedStyle(document.documentElement).fontSize)?1:0,children:[Object(N.jsxs)("div",{id:"user-info",children:[Object(N.jsx)(I.b,{to:"/faekbook/".concat(t),children:Object(N.jsx)("img",{src:t===(null===l||void 0===l?void 0:l.uid)?b||C:x||C,alt:"avatar"})}),Object(N.jsxs)("div",{className:"info",children:[Object(N.jsx)("div",{className:"name",children:Object(N.jsx)(I.b,{to:"/faekbook/".concat(t),children:n})}),"".concat(Object(Se.a)(Object(De.a)(o.seconds),"yyyy, MMM d")," at ").concat(Object(Se.a)(Object(De.a)(o.seconds),"h:mm a"))]})]}),H&&Object(N.jsx)(Fe,{postID:r,isShowingModal:H,setIsShowingModal:W,photoID:a.id}),t===(null===l||void 0===l?void 0:l.uid)&&Object(N.jsx)("div",{ref:K,className:"three-dots",onClick:function(){return W(!H)},children:Object(N.jsx)(we.a,{className:"icon"})}),Object(N.jsx)("main",{id:"content",children:i}),a.url&&Object(N.jsx)("div",{id:"post-photo",children:ce}),Object(N.jsxs)("div",{id:"num-likes-cmts",children:[Object(N.jsx)("div",{className:"likes",children:c.length>=1&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ie,{setIsShowingViewLikes:$}),Object(N.jsx)("span",{className:"number-of-likes",onClick:function(){return $(!0)},children:c.length}),Z&&Object(N.jsx)(Me,{setIsShowingViewLikes:$,likes:c})]})}),Object(N.jsx)("div",{className:"comments",children:(null===B||void 0===B?void 0:B.length)>0&&Object(N.jsxs)(N.Fragment,{children:[null===B||void 0===B?void 0:B.length," comment",(null===B||void 0===B?void 0:B.length)>1&&"s"]})})]}),Object(N.jsxs)("div",{id:"like-comment",children:[Object(N.jsxs)("div",{className:"like",onClick:function(){return m&&Q.like(null===l||void 0===l?void 0:l.uid,r,"posts")},children:[Object(N.jsx)(ye.b,{className:"icon"}),Object(N.jsx)("span",{children:"Like"})]}),Object(N.jsxs)("div",{className:"comments",onClick:function(){return(null===B||void 0===B?void 0:B.length)>0||m?T(!E):void 0},children:[E?Object(N.jsx)(w.b,{className:"icon"}):Object(N.jsx)(w.a,{className:"icon"}),Object(N.jsxs)("span",{children:[E?"Hide":"Show"," Comments"]})]})]}),E&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{id:"comments",children:ee}),m&&Object(N.jsxs)("form",{className:"comment-input",onSubmit:function(e){if(e.preventDefault(),L.length>0){var n={postID:r,commenterID:null===l||void 0===l?void 0:l.uid,date:G.a.fromDate(new Date),content:L,likes:[]};Object(G.b)(Object(G.c)(X,"comments"),n),M("")}},children:[Object(N.jsx)("img",{src:b||C,alt:"avatar"}),Object(N.jsx)("input",{value:L,placeholder:"Write a comment...",onChange:function(e){M(e.target.value)}})]})]})]})};function We(){var e=Object(u.useContext)(S),n=e.toggleState,t=e.dispatchDimBgModal,r=e.isUserSignedIn,o=e.CUAvatarURL;return Object(N.jsxs)(qe,{theme:n.isDarkTheme?D.dark:D.light,children:[Object(N.jsx)("img",{src:r?o||C:void 0,alt:"avatar"}),Object(N.jsx)("div",{onClick:function(){return t({type:"CREATE_POST"})},children:"What's on your mind?"})]})}var Ke,Xe,qe=O.c.section(ke||(ke=Object(d.a)(["\n  background-color: ",";\n  width: 50rem;\n  max-width: 100%;\n  padding: 1.5rem;\n  display: flex;\n  align-items: center;\n  column-gap: 1rem;\n  margin-inline: auto;\n  border-radius: 1rem;\n  margin-top: 2rem;\n  img {\n    height: 4rem;\n    width: 4rem;\n    background: ",";\n    ","\n  }\n  div {\n    color: ",";\n    flex-grow: 1;\n    padding-left: 2rem;\n    font-size: 1.5rem;\n    height: 4rem;\n    border-radius: 2rem;\n    background: ",";\n    display: flex;\n    align-items: center;\n    :hover {\n      cursor: pointer;\n      filter: brightness(",");\n    }\n  }\n"])),(function(e){return e.theme.main_bgclr}),(function(e){return e.theme.theme_toggler_bgclr}),x,(function(e){return e.theme.font_lighter}),(function(e){return e.theme.whats_on_ur_mind_bgclr}),(function(e){return"dark"===e.theme.type?"1.1":"0.95"})),Je=O.c.div(Ke||(Ke=Object(d.a)(["\n  color: ",";\n  padding-bottom: 3rem;\n  display: flex;\n  flex-flow: column;\n"])),(function(e){return e.theme.font})),Qe=function(){var e=Object(u.useContext)(S),n=e.toggleState,t=e.isUserSignedIn,r=Object(u.useState)(null),o=Object(p.a)(r,2),i=o[0],c=o[1],a=Object(u.useState)(5),s=Object(p.a)(a,2),l=s[0],d=s[1],m=Object(u.useState)(!1),b=Object(p.a)(m,2),h=b[0],g=b[1];Object(u.useEffect)((function(){Object(G.g)(Object(G.c)(X,"posts")).then((function(e){l>=e.size?g(!0):g(!1)})),console.log("render mainpage limit posts")}),[l,i]),Object(u.useEffect)((function(){var e=Object(G.c)(X,"posts"),n=Object(G.l)(e,Object(G.k)("date","desc"),Object(G.i)(l)),t=Q.setSnapshotListener(n,c);return console.log("MainPage renders"),function(){t()}}),[l]);var f=null===i||void 0===i?void 0:i.map((function(e){return Object(N.jsx)(He,{postID:e.id,userID:e.userID,full_name:e.fullname,date:e.date,content:e.content,likes:e.likes,photo:e.photo},e.id)}));return Object(N.jsxs)(Je,{theme:n.isDarkTheme?D.dark:D.light,children:[t&&Object(N.jsx)(We,{}),Object(N.jsx)(be,{}),f,h||Object(N.jsx)(de,{addMorePosts:function(){d(l+5)}})]})};var Ye,Ze,$e,en=Object(O.c)("div")(Xe||(Xe=Object(d.a)(["\n  color: ",";\n  padding-bottom: 2rem;\n  display: flex;\n  flex-flow: column;\n  header {\n    background-color: ",";\n    background: linear-gradient(\n      180deg,\n      rgba(",") 0%,\n      "," 70%\n    );\n    #cover-image {\n      position: relative;\n      width: 90rem;\n      max-width: 100%;\n      aspect-ratio: 5/2;\n      margin-inline: auto;\n      & > img {\n        border-radius: 0 0 10px 10px;\n        height: 100%;\n        width: 100%;\n        object-fit: cover;\n        object-position: 50% 50%;\n      }\n      .avatar {\n        position: absolute;\n        bottom: -4rem;\n        left: 50%;\n        transform: translateX(-50%);\n        width: 15rem;\n        height: 15rem;\n        padding: 0.5rem;\n        background-color: ",";\n        border-radius: 50%;\n        img {\n          width: 100%;\n          height: 100%;\n          ",";\n        }\n        .update-avatar {\n          position: absolute;\n          right: 1.1rem;\n          bottom: 1.1rem;\n          padding: 0.5rem;\n          border-radius: 50%;\n          background-color: ",";\n          :hover {\n            cursor: pointer;\n            filter: brightness(1.1);\n          }\n          .icon {\n            height: 2rem;\n            width: 2rem;\n          }\n        }\n      }\n      .edit-cover-photo {\n        color: black;\n        position: absolute;\n        right: 2rem;\n        bottom: 3rem;\n        background-color: white;\n        padding: 0.5rem 1rem;\n        display: flex;\n        align-items: center;\n        column-gap: 1rem;\n        border-radius: 7px;\n        :hover {\n          cursor: pointer;\n          filter: brightness(0.95);\n        }\n        .icon {\n          height: 1.5rem;\n          width: 1.5rem;\n        }\n        span {\n          font-size: 1rem;\n          font-weight: 700;\n          display: ",";\n        }\n      }\n    }\n    #intro {\n      padding: 5rem 2rem 2rem;\n      text-align: center;\n      .name {\n        font-size: 2.75rem;\n        font-weight: 800;\n      }\n      .short-description {\n        padding-top: 1rem;\n        font-size: 1.5rem;\n        .bio {\n          margin-right: 1rem;\n        }\n        textarea {\n          font-family: inherit;\n          color: ",";\n          border: none;\n          outline: none;\n          width: 65rem;\n          max-width: 100%;\n          padding: 1rem 1.5rem;\n          font-size: 1.5rem;\n          border-radius: 2rem;\n          background: ",";\n          resize: none;\n          overflow: hidden;\n          text-align: center;\n          :hover {\n            cursor: text;\n            filter: brightness(",");\n          }\n          ::placeholder {\n            color: ",";\n          }\n        }\n        .cancel {\n          font-size: 1.25rem;\n          margin-top: 1rem;\n          span {\n            color: #036ee2;\n            :hover {\n              cursor: pointer;\n              text-decoration: underline;\n            }\n          }\n        }\n        .pen {\n          display: inline-block;\n          padding: 0.5rem;\n          border-radius: 50%;\n          color: ",";\n          :hover {\n            background-color: ",";\n            cursor: pointer;\n          }\n          .icon {\n            font-size: 1.5rem;\n          }\n        }\n      }\n    }\n  }\n  main {\n    display: flex;\n    flex-flow: column;\n  }\n"])),(function(e){return e.theme.font}),(function(e){return e.theme.main_bgclr}),(function(e){return e.bgGradient}),(function(e){return e.theme.main_bgclr}),(function(e){return e.theme.main_bgclr}),x,(function(e){return e.theme.avatar_pic_cam_icon_bgclr}),(function(e){return e.editCoverPhotoHidden?"none":"block"}),(function(e){return e.theme.font}),(function(e){return e.theme.whats_on_ur_mind_bgclr}),(function(e){return e.isDarkTheme?"1.1":"0.95"}),(function(e){return e.theme.font_lighter}),(function(e){return e.theme.font}),(function(e){return e.theme.theme_toggler_bgclr})),nn=function(){var e=Object(u.useContext)(S),n=e.toggleState,t=e.isUserSignedIn,r=e.currentUserInfo,o=e.CUAvatarURL,i=e.setCUAvatarURL,c=Object(P.g)().userID,a=Object(u.useState)(null),s=Object(p.a)(a,2),l=s[0],d=s[1],m=Object(u.useState)(null),b=Object(p.a)(m,2),h=b[0],g=b[1],f=Object(u.useState)(null),j=Object(p.a)(f,2),O=j[0],v=j[1],x=Object(u.useState)(null),k=Object(p.a)(x,2),_=k[0],w=k[1],y=Object(u.useState)(!1),I=Object(p.a)(y,2),E=I[0],T=I[1],U=Object(u.useState)(""),z=Object(p.a)(U,2),L=z[0],M=z[1],R=Object(u.useState)(5),B=Object(p.a)(R,2),F=B[0],A=B[1],V=Object(u.useState)(!1),H=Object(p.a)(V,2),W=H[0],K=H[1],J=Object(u.useState)(!1),Z=Object(p.a)(J,2),$=Z[0],ee=Z[1],ne=Object(u.useState)(""),te=Object(p.a)(ne,2),re=te[0],oe=te[1],ie=Object(u.useState)(""),ce=Object(p.a)(ie,2),ae=ce[0],se=ce[1];Object(u.useEffect)((function(){if(r){var e=Object(G.c)(X,"posts"),n=Object(G.l)(e,Object(G.o)("userID","==",r.uid));Object(G.g)(n).then((function(e){F>=e.size?K(!0):K(!1)}))}}),[r,F,_]),Object(u.useEffect)((function(){Object(G.f)(Object(G.e)(X,"users",c)).then((function(e){var n=e.data();d(n)})),Y.updatePhotoURL(c,v,g);var e=Object(Be.d)(q,"users/".concat(c,"/avatar"));Object(Be.b)(e).then((function(e){return v(e)})).catch((function(e){return console.log(e)}))}),[c]),Object(u.useEffect)((function(){var e=Object(G.c)(X,"posts"),n=Object(G.l)(e,Object(G.o)("userID","==",c),Object(G.k)("date","desc"),Object(G.i)(F)),t=Q.setSnapshotListener(n,w);return console.log("profile renders"),function(){t()}}),[F,c]);var le=null===_||void 0===_?void 0:_.map((function(e){return Object(N.jsx)(He,{postID:e.id,userID:e.userID,full_name:e.fullname,date:e.date,content:e.content,likes:e.likes,photo:e.photo,is_profile_page:!0},e.id)})),ue=function(){var e=Object(u.useState)({width:void 0,height:void 0}),n=Object(p.a)(e,2),t=n[0],r=n[1];return Object(u.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}();Object(u.useEffect)((function(){var e=ue.width;T(void 0!==e&&e<=900)}),[ue]),Object(u.useEffect)((function(){var e=new Ae.a,n=document.querySelector("#get-dominant-clr");n.onload=function(){var t=e.getColor(n).toString();M(t)}}),[t]);var me="https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&refresh=2592000&url=",be=me+encodeURIComponent(h),he=me+encodeURIComponent("https://firebasestorage.googleapis.com/v0/b/faekbook1-aa0f8.appspot.com/o/defaults%2FdefaultCoverImage.gif?alt=media&token=458194b5-739b-4fd8-ae77-13ba5fb5dc13"),ge=Object(N.jsx)("img",{src:h?be:he,crossOrigin:"anonymous",id:"get-dominant-clr"}),fe=function(e){var n=e.target.files[0];if(n){var t="avatar"===e.target.id,o=t?"avatar":"cover_image",a=Object(Be.d)(q,"users/".concat(c,"/").concat(o));Object(Be.a)(a).catch((function(e){return console.log(e)})),Object(Be.e)(a,n).then((function(){return Object(Be.b)(a).then((function(e){return t?c===(null===r||void 0===r?void 0:r.uid)?i(e):v(e):g(e)}))}))}};Object(u.useEffect)((function(){Object(G.f)(Object(G.e)(X,"users",c)).then((function(e){return se(e.data().short_bio)}))}),[]);return Object(N.jsxs)(en,{theme:n.isDarkTheme?D.dark:D.light,isDarkTheme:n.isDarkTheme?1:0,bgGradient:L,editCoverPhotoHidden:E,children:[Object(N.jsxs)("header",{children:[Object(N.jsxs)("div",{id:"cover-image",children:[ge,Object(N.jsxs)("div",{className:"avatar",children:[Object(N.jsx)("img",{src:c===(null===r||void 0===r?void 0:r.uid)?o||C:O||C,alt:"avatar"}),c===(null===r||void 0===r?void 0:r.uid)&&Object(N.jsxs)("label",{className:"update-avatar",children:[Object(N.jsx)("input",{onChange:fe,id:"avatar",type:"file",accept:"image/*",style:{display:"none"}}),n.isDarkTheme?Object(N.jsx)(ye.a,{className:"icon",style:{fill:"white"}}):Object(N.jsx)(ye.c,{className:"icon"})]})]}),c===(null===r||void 0===r?void 0:r.uid)&&Object(N.jsxs)("label",{className:"edit-cover-photo",children:[Object(N.jsx)("input",{onChange:fe,id:"cover",type:"file",accept:"image/*",style:{display:"none"}}),Object(N.jsx)(ye.a,{className:"icon"})," ",Object(N.jsx)("span",{children:"Edit Cover Photo"})]})]}),Object(N.jsxs)("div",{id:"intro",children:[Object(N.jsx)("div",{className:"name",children:l?"".concat(l.first_name," ").concat(l.last_name):"default name"}),Object(N.jsx)("div",{className:"short-description",children:$?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("textarea",{rows:3,maxLength:150,value:re,onChange:function(e){return oe(e.target.value)},onKeyDown:function(e){13===e.keyCode?(Q.updateUserInfo(null===r||void 0===r?void 0:r.uid,{short_bio:re}),se(re),ee(!1)):27==e.keyCode&&ee(!1)},autoFocus:!0,onFocus:function(e){return e.currentTarget.setSelectionRange(e.currentTarget.value.length,e.currentTarget.value.length)}}),Object(N.jsxs)("div",{className:"cancel",children:[Object(N.jsx)("span",{onClick:function(){return ee(!1)},children:"Cancel"})," or press Esc to cancel"]})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:"bio",children:ae}),c===(null===r||void 0===r?void 0:r.uid)&&Object(N.jsx)("div",{className:"pen",onClick:function(){ee(!0),oe(ae)},children:Object(N.jsx)(ye.d,{className:"icon"})})]})})]})]}),Object(N.jsxs)("main",{children:[c===(null===r||void 0===r?void 0:r.uid)&&Object(N.jsx)(We,{}),le,W||Object(N.jsx)(de,{addMorePosts:function(){A(F+5)}})]})]})},tn=t(60),rn=Object(O.c)("div")(Ye||(Ye=Object(d.a)(["\n  position: fixed;\n  right: 1rem;\n  top: 5rem;\n  width: 30rem;\n  padding: 1rem;\n  z-index: 100;\n  border-radius: ",";\n  background: ",";\n  box-shadow: ",";\n  /* profile, theme-toggler and log-in-out */\n  a > .profile,\n  .theme-toggler,\n  .log-in-out {\n    display: flex;\n    cursor: pointer;\n    border-radius: ",";\n    padding: 0.5rem;\n    column-gap: 1rem;\n    :hover {\n      background-color: ",";\n    }\n  }\n  /* profile */\n  a {\n    text-decoration: none;\n    pointer-events: ",";\n    .profile {\n      opacity: ",";\n      img {\n        height: 5rem;\n        background: ",";\n        ","\n      }\n      .name {\n        display: flex;\n        flex-flow: column;\n        justify-content: space-evenly;\n        span:first-of-type {\n          font-size: 1.3rem;\n          font-weight: 600;\n          color: ",";\n        }\n        span:last-of-type {\n          font-size: 1.1375rem;\n          color: ",";\n        }\n      }\n    }\n  }\n  .divider {\n    margin-block: 0.5rem;\n    height: 2px;\n    width: 100%;\n    background: ",";\n  }\n  /* theme-toggler and log-in-out */\n  .theme-toggler,\n  .log-in-out {\n    align-items: center;\n    color: ",";\n    font-weight: 700;\n    .icon {\n      height: ",";\n      width: ",";\n      border-radius: 50%;\n      font-size: 2rem;\n      background: ",";\n      fill: ",";\n    }\n  }\n  .theme-toggler {\n    .icon {\n      display: grid;\n      place-items: center;\n    }\n  }\n  .log-in-out {\n    .icon {\n      position: relative;\n      svg {\n        position: absolute;\n        top: 0.7rem;\n        left: ",";\n      }\n    }\n  }\n"])),_.dropdown_menu_bdr_rds,(function(e){return e.theme.main_bgclr}),(function(e){return e.theme.bxShdw}),_.dropdown_menu_bdr_rds,(function(e){return e.theme.hover}),(function(e){return e.isUserSignedIn?"auto":"none"}),(function(e){return e.isUserSignedIn?"100%":"30%"}),(function(e){return e.theme.theme_toggler_bgclr}),x,(function(e){return e.theme.font}),(function(e){return e.theme.font_lighter}),(function(e){return e.theme.divider_clr}),(function(e){return e.theme.font}),_.navbar_elements_height,_.navbar_elements_height,(function(e){return e.theme.theme_toggler_bgclr}),(function(e){return e.theme.icon_color}),(function(e){return e.isUserSignedIn?"0.7rem":"0.5rem"})),on=function(){var e=Object(u.useContext)(S),n=e.currentUserInfo,t=e.CUAvatarURL,r=e.isUserSignedIn,o=e.toggleState,i=e.dispatchToggle,c=e.dispatchDimBgModal,a=Object(P.f)(),s=Object(N.jsx)("img",{src:r&&t||C,alt:"avatar"});return Object(N.jsxs)(rn,{theme:o.isDarkTheme?D.dark:D.light,isUserSignedIn:r?1:0,onClick:function(e){return e.stopPropagation()},children:[Object(N.jsx)(I.b,{to:"/faekbook/".concat(null===n||void 0===n?void 0:n.uid),onClick:function(){return r&&i({type:"TOGGLE_DROP_DOWN_MENU"})},children:Object(N.jsxs)("div",{className:"profile",children:[s,Object(N.jsxs)("div",{className:"name",children:[Object(N.jsx)("span",{children:r&&n?"".concat(n.first_name," ").concat(n.last_name):"User"}),Object(N.jsx)("span",{children:r?"See your profile":"Please log in"})]})]})}),Object(N.jsx)("div",{className:"divider"}),Object(N.jsxs)("div",{className:"theme-toggler",onClick:function(){i({type:"TOGGLE_THEME"}),r&&Q.updateUserInfo(null===n||void 0===n?void 0:n.uid,{is_dark_theme:!o.isDarkTheme}),i({type:"TOGGLE_DROP_DOWN_MENU"})},children:[Object(N.jsx)("div",{className:"icon",children:o.isDarkTheme?Object(N.jsx)(w.e,{}):Object(N.jsx)(w.d,{})}),"Change to ",o.isDarkTheme?"Light":"Dark"," theme"]}),Object(N.jsxs)("div",{className:"log-in-out",onClick:function(){i({type:"TOGGLE_DROP_DOWN_MENU"}),r?(J.signOut(),a.push("/faekbook/")):c({type:"LOG_IN"})},children:[Object(N.jsx)("div",{className:"icon",children:r?Object(N.jsx)(tn.b,{}):Object(N.jsx)(tn.a,{})}),"Log ",r?"Out":"In"]})]})},cn=t(46),an=t(61),sn=t(91);function ln(e){var n=e.CBEPost,t=Object(u.useContext)(S),r=t.currentUserInfo,o=t.toggleState,i=t.dispatchDimBgModal,c=t.CUAvatarURL,a=Object(u.useState)(""),s=Object(p.a)(a,2),l=s[0],d=s[1],m=Object(u.useState)(),b=Object(p.a)(m,2),h=b[0],g=b[1],f=Object(u.useState)(),j=Object(p.a)(f,2),O=j[0],v=j[1],x=Object(u.useRef)(),k=Object(u.useState)(!1),_=Object(p.a)(k,2),w=_[0],y=_[1];Object(u.useEffect)((function(){if(n&&(Object(G.f)(Object(G.e)(X,"posts",n.id)).then((function(e){var n,t=null===(n=e.data())||void 0===n?void 0:n.content;x.current=t,d(t),y(!0)})),n.photoID)){var e=Object(Be.d)(q,"post_photos/".concat(n.photoID));Object(Be.b)(e).then((function(e){return g(e)}))}}),[n]);var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t={userID:r.uid,fullname:r.first_name+" "+r.last_name,date:G.a.fromDate(new Date),content:l,photo:{url:e,id:n},likes:[],comments:[]};Object(G.b)(Object(G.c)(X,"posts"),t),i({type:"NONE"})},E=Object(N.jsxs)(bn,{theme:o.isDarkTheme?D.dark:D.light,isDarkTheme:o.isDarkTheme?1:0,textSmallSize:(null===l||void 0===l?void 0:l.length)>40?1:0,postButtonActivated:l.length>0?1:0,children:[Object(N.jsxs)("div",{id:"create-post",children:[n?"Edit Post":"Create Post",Object(N.jsx)(Z,{})]}),Object(N.jsx)("div",{className:"divider"}),Object(N.jsxs)("div",{id:"user",children:[Object(N.jsx)("img",{src:c||C,alt:"my_avatar"}),Object(N.jsx)("div",{className:"name",children:r&&"".concat(r.first_name," ").concat(r.last_name)})]}),Object(N.jsx)("textarea",{placeholder:"What's on your mind?",onChange:function(e){return d(e.target.value)},value:n&&l,autoFocus:!0,onFocus:function(e){n&&e.currentTarget.setSelectionRange(e.currentTarget.value.length,e.currentTarget.value.length)}}),Object(N.jsxs)("div",{id:"photo",children:[Object(N.jsxs)("div",{className:"buttons",children:[Object(N.jsxs)("label",{className:"upload-photo",children:[Object(N.jsx)("input",{onChange:function(e){var n=e.target.files[0];g(URL.createObjectURL(n)),v(n)},type:"file",accept:"image/*",style:{display:"none"}}),Object(N.jsx)(an.b,{})]}),h&&Object(N.jsx)("div",{className:"cancel-photo",onClick:function(){g(""),v("")},children:Object(N.jsx)(an.a,{})})]}),h&&Object(N.jsx)("div",{className:"preview",children:Object(N.jsx)("img",{src:h,alt:"preview"})})]}),Object(N.jsx)("div",{id:"post-button",children:Object(N.jsx)("button",{disabled:0===l.length,onClick:function(){return n?function(){if(n){if(h)if(O){n.photoID&&Object(Be.a)(Object(Be.d)(q,"post_photos/".concat(n.photoID)));var e=Object(sn.a)(),t=Object(Be.d)(q,"post_photos/".concat(e));Object(Be.e)(t,O).then((function(){Object(Be.b)(t).then((function(t){Object(G.n)(Object(G.e)(X,"posts",n.id),{content:l,photo:{url:t,id:e}})}))}))}else Object(G.n)(Object(G.e)(X,"posts",n.id),{content:l});else Object(Be.a)(Object(Be.d)(q,"post_photos/".concat(n.photoID))),Object(G.n)(Object(G.e)(X,"posts",n.id),{content:l,photo:{url:"",id:""}});i({type:"NONE"})}}():function(){if(O){var e=Object(sn.a)(),n=Object(Be.d)(q,"post_photos/".concat(e));Object(Be.e)(n,O).then((function(){return Object(Be.b)(n).then((function(n){return I(n,e)}))}))}else I()}()},children:n?"Save":"Post"})})]});return n?w?E:null:E}var dn,un,mn,bn=Object(O.c)("div")(Ze||(Ze=Object(d.a)(["\n  ",";\n"])),(function(e){return Object(O.b)($e||($e=Object(d.a)(["\n    width: 50rem;\n    max-width: 100vw;\n    max-height: 40rem;\n    background-color: ",";\n    color: ",";\n    border-radius: 10px;\n    overflow: auto;\n    ","\n    #user,\n    textarea,\n    #post-button {\n      padding: 1.5rem 1.5rem;\n    }\n\n    #create-post {\n      line-height: 5.5rem;\n      text-align: center;\n      font-size: 2.5rem;\n      font-weight: 700;\n      height: 5.5rem;\n      position: relative;\n      #turn-off-modal {\n        top: 0;\n      }\n    }\n    #user {\n      display: flex;\n      align-items: center;\n      column-gap: 1rem;\n      img {\n        height: 4rem;\n        width: 4rem;\n        ","\n      }\n      .name {\n        font-size: 1.5rem;\n        font-weight: 500;\n      }\n    }\n\n    textarea {\n      padding-top: 0;\n      background-color: inherit;\n      font-family: inherit;\n      font-size: ",";\n      display: block;\n      border: none;\n      outline: none;\n      width: 100%;\n      min-height: 10rem;\n      resize: none;\n      color: ",";\n      overflow-y: auto;\n      white-space: pre-wrap;\n      ","\n    }\n    #photo {\n      position: relative;\n      min-height: 6rem;\n      margin-inline: auto;\n      width: 95%;\n      .buttons {\n        position: absolute;\n        width: 100%;\n        display: flex;\n        padding-top: 1rem;\n        padding-right: 1rem;\n        column-gap: 1rem;\n        justify-content: end;\n        .upload-photo,\n        .cancel-photo {\n          border-radius: 50%;\n          height: 3.5rem;\n          width: 3.5rem;\n          display: grid;\n          place-items: center;\n          font-size: 2rem;\n          color: #45bd62;\n          background-color: ",";\n          :hover {\n            cursor: pointer;\n            filter: brightness(",");\n          }\n        }\n        .cancel-photo {\n          color: ",";\n          font-size: 2.5rem;\n        }\n      }\n      .preview {\n        margin-top: 2rem;\n        img {\n          width: 100%;\n          border-radius: 15px;\n        }\n      }\n    }\n    #post-button {\n      button {\n        width: 100%;\n        height: 3.5rem;\n        font-size: 1.5rem;\n        font-weight: 700;\n        border-radius: ",";\n        margin-inline: auto;\n        border: none;\n        color: ",";\n        background-color: ",";\n        :hover {\n          cursor: ",";\n        }\n      }\n    }\n    .divider {\n      background-color: ",";\n      margin-inline: auto;\n      height: 2px;\n      width: 100%;\n    }\n  "])),e.theme.main_bgclr,e.theme.font,k,x,e.textSmallSize?"1.5rem":"2.5rem",e.theme.font,k,e.theme.theme_toggler_bgclr,"light"===e.theme.type?"0.9":"1.3",e.theme.font,_.dropdown_menu_bdr_rds,e.postButtonActivated?"white":"#858686",e.postButtonActivated?"#2D88FF":e.isDarkTheme?"#505151":"#e4e6eb",e.postButtonActivated?"pointer":"not-allowed",e.isDarkTheme?"#424242":"#dddfe2")})),hn=Object(O.b)(dn||(dn=Object(d.a)(["\n  content: '';\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 100;\n"]))),gn=Object(O.c)("div")(un||(un=Object(d.a)(["\n  position: relative;\n  background: ",";\n  min-height: 100vh;\n\n  ::after {\n    ","\n    background-color: ",";\n  }\n  .dim-bg-modal {\n    position: fixed;\n    background: white;\n    border-radius: 10px;\n    top: 12%;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 200;\n    border-radius: 10px;\n    box-shadow: ",";\n  }\n"])),(function(e){return e.theme.body}),(function(e){return("close modals"!==e.authenType||e.toggleState.createPostIsVisible)&&hn}),(function(e){return"dark"===e.theme.type?"#00000063":"#ffffff92"}),(function(e){return e.theme.bxShdw})),fn=function(){var e=Object(u.useState)(),n=Object(p.a)(e,2),t=n[0],r=n[1],o=Object(u.useState)(null),i=Object(p.a)(o,2),c=i[0],a=i[1],s=Object(u.useState)(null),l=Object(p.a)(s,2),d=l[0],m=l[1],b=Object(u.useReducer)(L,{isDarkTheme:!1,dropDownMenuIsVisible:!1}),h=Object(p.a)(b,2),g=h[0],O=h[1],v=Object(u.useReducer)(M,{action:"close modals"}),x=Object(p.a)(v,2),k=x[0],_=x[1],w=Object(u.useState)(),y=Object(p.a)(w,2),C=y[0],E=y[1];Object(u.useEffect)((function(){Object(cn.c)(K,function(){var e=Object(j.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?(r(!0),Object(G.f)(Object(G.e)(X,"users",n.uid)).then((function(e){var n=e.data();a(n),(null===n||void 0===n?void 0:n.is_dark_theme)?O({type:"DARK_THEME"}):O({type:"LIGHT_THEME"})}))):(r(!1),a(null),m(null),O({type:"LIGHT_THEME"}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),console.log("auth change render app")}),[]),Object(u.useEffect)((function(){if(c){var e=null===c||void 0===c?void 0:c.uid;Y.updatePhotoURL(e,m)}console.log("render app")}),[c,t]);return Object(N.jsx)(S.Provider,{value:{isUserSignedIn:t,currentUserInfo:c,toggleState:g,dispatchToggle:O,dimBgModal:k,dispatchDimBgModal:_,CUAvatarURL:d,setCUAvatarURL:m,setCBEPost:E},children:Object(N.jsx)(I.a,{children:Object(N.jsxs)(gn,{theme:!0===g.isDarkTheme?D.dark:D.light,authenType:k.action,toggleState:g,onClick:function(){g.dropDownMenuIsVisible&&O({type:"TOGGLE_DROP_DOWN_MENU"}),g.postModalIsVisible&&O({type:"TOGGLE_POST_MODAL"})},children:[Object(N.jsx)(U,{}),Object(N.jsxs)(P.c,{children:[Object(N.jsx)(P.a,{exact:!0,path:"/faekbook/",component:Qe}),Object(N.jsx)(P.a,{exact:!0,path:"/faekbook/:userID",component:nn})]}),Object(N.jsx)("div",{className:"dim-bg-modal",children:function(e){switch(e.action){case"show login modal":return Object(N.jsx)(ne,{});case"show signup modal":return Object(N.jsx)(oe,{});case"show create-post modal":return Object(N.jsx)(ln,{});case"show edit-post":return Object(N.jsx)(ln,{CBEPost:C});case"close modals":return}}(k)}),g.dropDownMenuIsVisible&&Object(N.jsx)(on,{})]})})})},jn=(t(87),Object(O.a)(mn||(mn=Object(d.a)(["\n    * {\n       box-sizing: border-box;\n    }\n    html {\n      font-size: 70%;\n      @media (min-width: 768px) {\n        font-size: 80%;\n      }\n      @media (min-width: 1024px) {\n        font-size: 90%;\n      }\n    }\n    body {\n      font-size: 1em;\n      font-family: 'Roboto', sans-serif;\n      user-select: none;\n    }\n    img {\n      border-radius: 50%;\n    }\n  "]))));h.a.render(Object(N.jsxs)(m.a.StrictMode,{children:[Object(N.jsx)(jn,{}),Object(N.jsx)(fn,{})]}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.d2a85eeb.chunk.js.map