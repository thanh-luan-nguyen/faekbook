{"version":3,"sources":["styles/globalValues.ts","utils/Context.ts","styles/themes.ts","utils/defaultPhotos.ts","components/Navbar.tsx","reducers.ts","firebaseConfig.ts","utils/TurnOffModalButton.tsx","components/Modals/LogInModal.tsx","components/Modals/SignUpModal.tsx","components/Modals/DropDownMenu.tsx","components/Modals/AddEditPostModal.tsx","utils/ShowMoreButton.tsx","components/UserBubble.tsx","components/AllUsers.tsx","utils/BlueBgLikeIcon.tsx","components/Modals/CommentModal.tsx","components/WriteAComment.tsx","components/Modals/ViewLikes.tsx","components/Comment.tsx","components/Modals/PostDropDownModal.tsx","components/Post.tsx","components/WhatsOnYourMind.tsx","components/MainPage.tsx","components/ProfilePage.tsx","utils/useWindowSize.ts","App.tsx","index.tsx"],"names":["globalValues","navbar_elements_height","navbar_column_gap","navbar_height","dropdown_menu_bdr_rds","ButtonCSS","css","InputCSS","imageObjectSettings","customizedScrollBar","p","theme","font_lighter_1","Context","createContext","themes","light","type","bxShdw","main_bgclr","nav_btm_brdr_clr","font","font_lighter","divider_clr","hover","icon_color","theme_toggler_bgclr","theme_toggler_bgclr_active","theme_toggler_icon_active","body","like_icon_bgclr","avatar_pic_cam_icon_bgclr","whats_on_ur_mind_bgclr","tooltip_bgclr","tooltip_fontclr","dark","defaultAvatar","rotation","keyframes","StyledNav","styled","bxShadw","menuVisibility","Navbar","useContext","toggleState","isUserSignedIn","CUAvatarURL","currentUserInfo","dispatchToggle","dispatchDimBgModal","userProfileButton","to","uid","className","src","undefined","alt","first_name","logInButton","onClick","isDarkTheme","dropDownMenuIsVisible","e","stopPropagation","toggleReducer","state","action","authenModalReducer","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","db","getFirestore","storage","getStorage","Authen","email","password","firstName","lastName","callback","createUserWithEmailAndPassword","then","userCredential","user","newUser","last_name","short_bio","is_dark_theme","DB","setUser","signIn","console","log","catch","err","alert","code","message","signInWithEmailAndPassword","signOut","payload","setDoc","doc","updateDoc","q","setStateCallback","onSnapshot","docs","posts","forEach","push","data","id","liker","liked","collection","getDoc","a","likes","likesUserIDs","map","like","userID","getDownloadURL","ref","avatarURL","userSnapshot","includes","splice","indexOf","full_name","Storage","setAvatarURL","setCoverImageURL","avatarRef","coverImageRef","url","TurnOffModalButton","StyledSpan","span","LogInModal","useState","setEmail","setPassword","StyledDiv","value","onChange","target","placeholder","div","SignUpModal","setFirstName","setLastName","signUp","DropDownMenu","history","useHistory","renderAvatar","updateUserInfo","AddEditPostModal","CBEPost","content","setContent","previewPhoto","setPreviewPhoto","imgBlob","setImgBlob","beforeEdittedContent","useRef","isLoaded","setIsLoaded","useEffect","post","current","photoID","fileRef","addPostToDB","fullname","date","Timestamp","fromDate","Date","photo","comments","addDoc","renderModal","textSmallSize","length","postButtonActivated","autoFocus","onFocus","currentTarget","setSelectionRange","files","URL","createObjectURL","accept","style","display","disabled","deleteObject","uuid","uploadBytes","updatePost","addPost","StyledButton","ShowMoreButton","addMorePosts","UserBubble","avatar","setAvatar","userInfo","setUserInfo","updatePhotoURL","userSnap","AllUsers","allUsers","setAllUsers","usersRef","unsub","setSnapshotListener","query","renderUsers","u","StyledSection","section","BlueBgLikeIcon","setIsShowingViewLikes","CommentModal","commentID","setIsEditting","setIsShowingModal","postID","modalNode","document","addEventListener","handleClick","removeEventListener","deleteDoc","filter","cmt","StyledInput","WriteAComment","edittingContent","setEdittingContent","onKeyDown","keyCode","isComment","ViewLikes","renderLikesInfo","hasLikes","isLikedByCU","Comment","commenterUID","commentAvatar","setCommentAvatar","isShowingModal","isShowingViewLikes","setIsLiked","isEditting","format","fromUnixTime","seconds","PostDropDownModal","setCBEPost","isShowingComments","bgGradient","isImgTooHigh","hasComments","isLikedByCurrentUser","Post","postAvatarURL","setPostAvatar","setIsShowingComments","commentInput","setCommentInput","postCmts","setPostCmts","threeDotsNode","cmtsRef","where","orderBy","renderComments","commenterID","imgRef","setBgGradient","colorThief","ColorThief","onload","color","getColor","toString","renderPhoto","encodeURIComponent","crossOrigin","clientHeight","parseFloat","getComputedStyle","documentElement","fontSize","onSubmit","preventDefault","newComment","WhatsOnYourMind","MainPage","allPosts","setAllPosts","postsNumLimit","setPostsNumLimit","hasShownAllPosts","setHasShownAllPosts","getDocs","size","postsRef","limit","renderPosts","editCoverPhotoHidden","ProfilePage","setCUAvatarURL","useParams","userCoverImgURL","userAvatarURL","setUserAvatarURL","userPosts","setUserPosts","setEditCoverPhotoHidden","isEdittingBio","setIsEdittingBio","isEdittingBioContent","setIsEdittingBioContent","bio","setBio","is_profile_page","width","height","windowSize","setWindowSize","handleResize","window","innerWidth","innerHeight","useWindowSize","img","querySelector","googleProxyURL","userCover","defaultCover","renderCoverPhoto","updatePhoto","file","isAvatar","folderName","fill","rows","maxLength","Screen","authenType","createPostIsVisible","App","setIsUserSignedIn","setCurrentUserInfo","useReducer","dimBgModal","onAuthStateChanged","Provider","postModalIsVisible","exact","path","component","GlobalStyle","createGlobalStyle","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.02fcc56f.chunk.js","sourcesContent":["import { css } from 'styled-components'\r\n\r\nconst globalValues = {\r\n  navbar_elements_height: '3rem',\r\n  navbar_column_gap: '1rem',\r\n  navbar_height: '4.5rem',\r\n  dropdown_menu_bdr_rds: '10px',\r\n  ButtonCSS: css`\r\n    font-size: inherit;\r\n    border-radius: 0.5rem;\r\n    font-size: inherit;\r\n    padding: 1.25rem 1.75rem;\r\n    font-weight: 700;\r\n    border: none;\r\n    color: white;\r\n    background-color: #42b72a;\r\n    width: 100%;\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  `,\r\n  InputCSS: css`\r\n    outline: none;\r\n    border: 1px solid #dddfe2;\r\n    border-radius: 0.5rem;\r\n    width: 100%;\r\n    font-size: inherit;\r\n    padding: 1.25rem 1.75rem;\r\n    ::placeholder {\r\n      color: #90949c;\r\n      font-weight: 100;\r\n    }\r\n  `,\r\n}\r\n\r\nexport const imageObjectSettings = css`\r\n  aspect-ratio: 1/1;\r\n  object-fit: cover;\r\n  object-position: 50% 20%;\r\n`\r\n\r\nexport const customizedScrollBar = css`\r\n  ::-webkit-scrollbar {\r\n    width: 0.3rem;\r\n    height: 0.5rem;\r\n  }\r\n  ::-webkit-scrollbar-thumb {\r\n    background: ${p => p.theme.font_lighter_1};\r\n    border-radius: 10px;\r\n  }\r\n  ::-webkit-scrollbar-track {\r\n    border-radius: 10px;\r\n    margin-block: 0.5rem;\r\n  }\r\n`\r\n\r\nexport default globalValues\r\n","import { createContext } from 'react'\r\n\r\n// interface ContextInterface {\r\n//   currentUserEmail: any\r\n//   setCurrentEmail: any\r\n//   currentUserInfoState: any\r\n//   setCurrentUserInfoState: any\r\n//   handleSignIn: any\r\n//   toggleState: any\r\n//   dispatchToggle: any\r\n//   isSignedIn: any\r\n//   dispatchSignInOut: any\r\n//   dimBgModal: any\r\n//   dispatchDimBgModal: any\r\n//   handleSignOut: any\r\n// }\r\n\r\nconst Context = createContext({} as any)\r\n\r\nexport default Context\r\n","export const themes = {\r\n  light: {\r\n    type: 'light',\r\n\r\n    bxShdw:\r\n      'rgba(50, 50, 93, 0.25) 0 0 5px -1px, rgba(0, 0, 0, 0.3) 0 0 3px -1px',\r\n\r\n    main_bgclr: '#fff',\r\n    nav_btm_brdr_clr: '#fff',\r\n    // fb_icon: '#000',\r\n    font: '#050505',\r\n    font_lighter: '#65676b',\r\n    font_lighter_1: '#65676b80',\r\n    // menu\r\n    divider_clr: '#ced0d4',\r\n    hover: '#d4d4d434',\r\n    icon_color: '#1d1f23',\r\n    theme_toggler_bgclr: '#e6e8ed',\r\n    theme_toggler_bgclr_active: '#E7F3FF',\r\n    theme_toggler_icon_active: '#0571ED',\r\n\r\n    // body\r\n    body: '#f0f2f5',\r\n    like_icon_bgclr: '#fff',\r\n    avatar_pic_cam_icon_bgclr: '#e4e6eb',\r\n\r\n    whats_on_ur_mind_bgclr: '#F0F2F5',\r\n\r\n    tooltip_bgclr: '#4e5052',\r\n    tooltip_fontclr: '#b0b3b8',\r\n  },\r\n  dark: {\r\n    type: 'dark',\r\n\r\n    bxShdw:\r\n      'rgba(255, 255, 255) 0 0 5px -1px, rgba(255, 255, 255) 0 0 3px -1px',\r\n\r\n    main_bgclr: '#242526',\r\n    nav_btm_brdr_clr: '#393a3b',\r\n    // fb_icon: '#fff',\r\n    font: '#e4e6eb',\r\n    font_lighter: '#b0b3b8',\r\n    font_lighter_1: '#b0b3b880',\r\n    // menu\r\n    divider_clr: '#3e4042',\r\n    hover: '#ffffff45',\r\n    icon_color: '#e4e6ea',\r\n    theme_toggler_bgclr: '#4e5052',\r\n    theme_toggler_bgclr_active: '#263951',\r\n    theme_toggler_icon_active: '#2D86FF',\r\n    // body\r\n    body: '#18191a',\r\n    like_icon_bgclr: '#3a3b3c',\r\n    avatar_pic_cam_icon_bgclr: '#3a3b3c',\r\n\r\n    whats_on_ur_mind_bgclr: '#3a3b3c',\r\n\r\n    tooltip_bgclr: '#e6e8ed',\r\n    tooltip_fontclr: '#65676b',\r\n  },\r\n}\r\n","export const defaultAvatar =\r\n  'https://firebasestorage.googleapis.com/v0/b/faekbook1-aa0f8.appspot.com/o/defaults%2FdefaultAvatar.png?alt=media&token=a153e1b2-261c-4c56-a516-27a85bac7ec6'\r\nexport const defaultCoverImage =\r\n  'https://firebasestorage.googleapis.com/v0/b/faekbook1-aa0f8.appspot.com/o/defaults%2FdefaultCoverImage.gif?alt=media&token=458194b5-739b-4fd8-ae77-13ba5fb5dc13'\r\n","import styled, { keyframes } from 'styled-components'\r\nimport globalValues, { imageObjectSettings } from '../styles/globalValues'\r\nimport { FaFacebook } from 'react-icons/fa'\r\nimport { MdArrowDropDown } from 'react-icons/md'\r\nimport Context from '../utils/Context'\r\nimport React, { useContext } from 'react'\r\nimport { themes } from '../styles/themes'\r\nimport { Link } from 'react-router-dom'\r\nimport { defaultAvatar } from '../utils/defaultPhotos'\r\n\r\nconst Navbar: React.FC<any> = () => {\r\n  const {\r\n    toggleState,\r\n    isUserSignedIn,\r\n    CUAvatarURL,\r\n    currentUserInfo,\r\n    dispatchToggle,\r\n    dispatchDimBgModal,\r\n  } = useContext(Context)\r\n\r\n  const userProfileButton = (\r\n    <Link to={`/faekbook/${currentUserInfo?.uid}`}>\r\n      <div className='user-profile-button'>\r\n        <img\r\n          src={isUserSignedIn ? CUAvatarURL || defaultAvatar : undefined}\r\n          alt='avatar'\r\n        />\r\n        {isUserSignedIn && currentUserInfo?.first_name}\r\n      </div>\r\n    </Link>\r\n  )\r\n\r\n  const logInButton = (\r\n    <div\r\n      className='log-in-button'\r\n      onClick={() => dispatchDimBgModal({ type: 'LOG_IN' })}\r\n    >\r\n      Log In\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <StyledNav\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      menuVisibility={toggleState.dropDownMenuIsVisible ? 1 : 0}\r\n    >\r\n      <div className='left'>\r\n        <Link to='/faekbook/'>\r\n          <FaFacebook className='fb-icon' />\r\n        </Link>\r\n        <Link to='/faekbook/'>\r\n          <span className='faekbook'>faekbook</span>\r\n        </Link>\r\n      </div>\r\n      <div className='right'>\r\n        {isUserSignedIn ? userProfileButton : logInButton}\r\n        <div\r\n          className='toggle-dropdown-menu'\r\n          onClick={e => {\r\n            e.stopPropagation()\r\n            dispatchToggle({ type: 'TOGGLE_DROP_DOWN_MENU' })\r\n          }}\r\n        >\r\n          <MdArrowDropDown />\r\n        </div>\r\n      </div>\r\n    </StyledNav>\r\n  )\r\n}\r\n\r\nconst rotation = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(359deg);\r\n  }\r\n`\r\n\r\nconst StyledNav = styled('nav')<{ menuVisibility: number }>`\r\n  position: sticky;\r\n  top: 0;\r\n  background: ${p => p.theme.main_bgclr};\r\n  height: ${globalValues.navbar_height};\r\n  box-shadow: ${p => p.theme.bxShadw};\r\n  border-bottom: 1px solid ${p => p.theme.nav_btm_brdr_clr};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-inline: 1rem;\r\n  z-index: 200;\r\n  .left {\r\n    display: flex;\r\n    align-items: center;\r\n    column-gap: ${globalValues.navbar_column_gap};\r\n    font-size: 2rem;\r\n    font-weight: 700;\r\n    a {\r\n      text-decoration: none;\r\n      .fb-icon,\r\n      .faekbook {\r\n        color: ${p => p.theme.font};\r\n        :hover {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      .fb-icon {\r\n        height: ${globalValues.navbar_elements_height};\r\n        width: ${globalValues.navbar_elements_height};\r\n        animation: ${rotation} 2s infinite linear;\r\n      }\r\n    }\r\n  }\r\n  .right {\r\n    display: flex;\r\n    column-gap: ${globalValues.navbar_column_gap};\r\n    .toggle-dropdown-menu {\r\n      height: ${globalValues.navbar_elements_height};\r\n      width: ${globalValues.navbar_elements_height};\r\n      border-radius: 50%;\r\n      background: ${p =>\r\n        p.menuVisibility\r\n          ? p.theme.theme_toggler_bgclr_active\r\n          : p.theme.theme_toggler_bgclr};\r\n      font-size: ${globalValues.navbar_elements_height};\r\n      color: ${p =>\r\n        p.menuVisibility\r\n          ? p.theme.theme_toggler_icon_active\r\n          : p.theme.icon_color};\r\n      :hover {\r\n        cursor: pointer;\r\n        filter: brightness(${p => (p.theme.type === 'light' ? '0.9' : '1.3')});\r\n      }\r\n    }\r\n    a .user-profile-button,\r\n    .log-in-button {\r\n      height: ${globalValues.navbar_elements_height};\r\n      border-radius: 50px;\r\n      display: flex;\r\n      align-items: center;\r\n      font-weight: 700;\r\n      font-size: 1.25rem;\r\n      color: ${p => p.theme.font};\r\n      :hover {\r\n        cursor: pointer;\r\n        background: ${p =>\r\n          p.menuVisibility\r\n            ? p.theme.theme_toggler_bgclr_active\r\n            : p.theme.theme_toggler_bgclr};\r\n      }\r\n    }\r\n    a {\r\n      text-decoration: none;\r\n      .user-profile-button {\r\n        column-gap: 0.6rem;\r\n        padding-left: 0.35rem;\r\n        padding-right: 0.6rem;\r\n        img {\r\n          height: calc(${globalValues.navbar_elements_height} - 0.5rem);\r\n          width: calc(${globalValues.navbar_elements_height} - 0.5rem);\r\n          background: ${p => p.theme.theme_toggler_bgclr};\r\n          ${imageObjectSettings}\r\n        }\r\n      }\r\n    }\r\n    .log-in-button {\r\n      padding-inline: 1rem;\r\n    }\r\n  }\r\n`\r\n\r\nexport default Navbar\r\n","export const toggleReducer = (state: any, action: any) => {\r\n  switch (action.type) {\r\n    case 'DARK_THEME':\r\n      return { ...state, isDarkTheme: true }\r\n    case 'LIGHT_THEME':\r\n      return { ...state, isDarkTheme: false }\r\n    case 'TOGGLE_THEME':\r\n      return { ...state, isDarkTheme: !state.isDarkTheme }\r\n    case 'TOGGLE_DROP_DOWN_MENU':\r\n      return { ...state, dropDownMenuIsVisible: !state.dropDownMenuIsVisible }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const isSignedInReducer = (state = false, action: any) => {\r\n  switch (action.type) {\r\n    case 'SIGN_IN':\r\n      return true\r\n    case 'SIGN_OUT':\r\n      return false\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const authenModalReducer = (\r\n  state = { action: 'close modals' },\r\n  action: any\r\n) => {\r\n  switch (action.type) {\r\n    case 'LOG_IN':\r\n      return { action: 'show login modal' }\r\n    case 'SIGN_UP':\r\n      return { action: 'show signup modal' }\r\n    case 'CREATE_POST':\r\n      return { action: 'show create-post modal' }\r\n    case 'EDIT_POST':\r\n      return { action: 'show edit-post' }\r\n    case 'NONE':\r\n      return { action: 'close modals' }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { getDoc, onSnapshot } from '@firebase/firestore'\r\nimport { initializeApp } from 'firebase/app'\r\nimport { doc, getFirestore, setDoc, updateDoc } from 'firebase/firestore'\r\nimport {\r\n  getAuth,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n} from 'firebase/auth'\r\nimport { getStorage, ref, getDownloadURL } from 'firebase/storage'\r\nimport { PostType, User } from './types/types'\r\n\r\nconst app = initializeApp({\r\n  apiKey: 'AIzaSyAowcCuiyILtMdMP96n-RzUh2QVKvrN4OQ',\r\n  authDomain: 'faekbook1-aa0f8.firebaseapp.com',\r\n  projectId: 'faekbook1-aa0f8',\r\n  storageBucket: 'faekbook1-aa0f8.appspot.com',\r\n  messagingSenderId: '989041805197',\r\n  appId: '1:989041805197:web:7661cc2571e3fb3317dfc4',\r\n})\r\n\r\nexport const auth = getAuth()\r\n\r\nexport const db = getFirestore()\r\n\r\nexport const storage = getStorage(app)\r\n\r\nexport class Authen {\r\n  static signUp(\r\n    email: string,\r\n    password: string,\r\n    firstName: string,\r\n    lastName: string,\r\n    callback: any\r\n  ) {\r\n    return createUserWithEmailAndPassword(auth, email, password)\r\n      .then(userCredential => {\r\n        const uid = userCredential.user.uid\r\n        const newUser: User = {\r\n          uid: uid,\r\n          first_name: firstName,\r\n          last_name: lastName,\r\n          short_bio: 'my bio',\r\n          is_dark_theme: false,\r\n        }\r\n        DB.setUser(uid, newUser)\r\n        Authen.signIn(email, password, callback)\r\n        console.log('Signed up successfully: ', userCredential)\r\n      })\r\n      .catch(err => {\r\n        alert(`Sign up Error: ${err.code}. ${err.message}`)\r\n      })\r\n  }\r\n  static signIn(email: string, password: string, callback: any) {\r\n    signInWithEmailAndPassword(auth, email, password)\r\n      .then(userCredential => {\r\n        callback()\r\n        console.log(\r\n          `User with email ${userCredential.user.email} has logged in successfully`\r\n        )\r\n      })\r\n      .catch(err => alert(`Sign in Error: ${err.code}. ${err.message}`))\r\n  }\r\n  static signOut() {\r\n    signOut(auth)\r\n      .then(() => {\r\n        console.log('Signed out successfully')\r\n      })\r\n      .catch(e => {\r\n        alert('Signout failed: ' + e)\r\n      })\r\n  }\r\n}\r\n\r\nexport class DB {\r\n  static setUser(uid: string, payload: any) {\r\n    setDoc(doc(db, 'users', uid), payload)\r\n  }\r\n  static updateUserInfo(uid: string, payload: any) {\r\n    updateDoc(doc(db, 'users', uid), payload)\r\n  }\r\n  static setSnapshotListener(q: any, setStateCallback: any) {\r\n    return onSnapshot(q, (docs: any) => {\r\n      const posts: Array<PostType> = []\r\n      docs.forEach((p: any) => posts.push({ ...p.data(), id: p.id }))\r\n      setStateCallback(posts)\r\n    })\r\n  }\r\n  static like(liker: string, liked: string, collection: string) {\r\n    getDoc(doc(db, collection, liked)).then(async p => {\r\n      const likes = p.data()?.likes\r\n      const likesUserIDs = likes.map((like: any) => like.userID)\r\n\r\n      const avatarURL = await getDownloadURL(\r\n        ref(storage, `users/${liker}/avatar`)\r\n      )\r\n      const userSnapshot = await getDoc(doc(db, 'users', liker))\r\n      const user = userSnapshot?.data()\r\n\r\n      likesUserIDs.includes(liker)\r\n        ? likes.splice(likesUserIDs.indexOf(liker), 1)\r\n        : likes.push({\r\n            userID: liker,\r\n            full_name: `${user?.first_name} ${user?.last_name}`,\r\n            avatarURL: avatarURL,\r\n          })\r\n      updateDoc(doc(db, collection, liked), { likes: likes })\r\n    })\r\n  }\r\n}\r\n\r\nexport class Storage {\r\n  static updatePhotoURL(\r\n    uid: string,\r\n    setAvatarURL: any,\r\n    setCoverImageURL?: any\r\n  ) {\r\n    const avatarRef = ref(storage, `users/${uid}/avatar`)\r\n    const coverImageRef = ref(storage, `users/${uid}/cover_image`)\r\n    getDownloadURL(avatarRef)\r\n      .then(url => {\r\n        setAvatarURL(url)\r\n      })\r\n      .catch(e => {\r\n        console.log(e)\r\n        setAvatarURL(null)\r\n      })\r\n    setCoverImageURL &&\r\n      getDownloadURL(coverImageRef)\r\n        .then(url => setCoverImageURL(url))\r\n        .catch(e => console.log(e))\r\n  }\r\n}","import { useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport Context from './Context'\r\nimport { themes } from '../styles/themes'\r\n\r\nexport default function TurnOffModalButton() {\r\n  const { toggleState, dispatchDimBgModal } = useContext(Context)\r\n  return (\r\n    <StyledSpan\r\n      id='turn-off-modal'\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      onClick={() => dispatchDimBgModal({ type: 'NONE' })}\r\n    >\r\n      +\r\n    </StyledSpan>\r\n  )\r\n}\r\n\r\nconst StyledSpan = styled.span`\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 1.75rem;\r\n  font-size: 3.5rem;\r\n  transform: rotate(45deg);\r\n  font-weight: initial;\r\n  color: ${p => p.theme.font};\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n","import { useContext, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Authen } from '../../firebaseConfig'\r\nimport globalValues from '../../styles/globalValues'\r\nimport Context from '../../utils/Context'\r\nimport { themes } from '../../styles/themes'\r\nimport TurnOffModalButton from '../../utils/TurnOffModalButton'\r\n\r\nexport default function LogInModal() {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const { toggleState, dispatchDimBgModal } = useContext(Context)\r\n\r\n  const handleLogIn = () => {\r\n    Authen.signIn(email, password, () => dispatchDimBgModal({ type: 'NONE' }))\r\n    \r\n  }\r\n  return (\r\n    <StyledDiv theme={toggleState.isDarkTheme ? themes.dark : themes.light}>\r\n      <TurnOffModalButton />\r\n      <div id='top'>\r\n        <div>Welcome Back!</div>\r\n        <input\r\n          type='text'\r\n          value={email}\r\n          onChange={e => setEmail(e.target.value)}\r\n          placeholder='Email or Phone Number'\r\n        />\r\n        <input\r\n          type='password'\r\n          value={password}\r\n          onChange={e => setPassword(e.target.value)}\r\n          placeholder='Password'\r\n        />\r\n        <button className='log-in-btn' onClick={handleLogIn}>\r\n          Log In\r\n        </button>\r\n      </div>\r\n      <div className='divider'></div>\r\n      <div id='bottom'>\r\n        <span>New to Faekbook?</span>\r\n        <button\r\n          className='create-new-acc-btn'\r\n          onClick={() => dispatchDimBgModal({ type: 'SIGN_UP' })}\r\n        >\r\n          Create New Account\r\n        </button>\r\n      </div>\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled.div`\r\n  width: 40rem;\r\n  max-width: 100vw;\r\n  display: flex;\r\n  flex-flow: column;\r\n  padding: 1.5rem;\r\n  #top,\r\n  #bottom {\r\n    display: flex;\r\n    align-items: center;\r\n    flex-flow: column;\r\n    row-gap: 1.25rem;\r\n    font-size: 1.75rem;\r\n  }\r\n  #top {\r\n    div {\r\n      align-self: flex-start;\r\n      font-weight: 500;\r\n      font-size: 2.25rem;\r\n      color: #1c1e21;\r\n      margin: 0.5rem auto 0.75rem 1rem;\r\n    }\r\n    input {\r\n      ${globalValues.InputCSS}\r\n    }\r\n    .log-in-btn {\r\n      ${globalValues.ButtonCSS}\r\n      width: 100%;\r\n      background-color: #1877f2;\r\n    }\r\n  }\r\n  .divider {\r\n    background-color: #dddfe2;\r\n    height: 1px;\r\n    width: 100%;\r\n    margin-block: 2rem;\r\n  }\r\n  #bottom {\r\n    span {\r\n      font-size: 1.25rem;\r\n    }\r\n    .create-new-acc-btn {\r\n      ${globalValues.ButtonCSS}\r\n      width: 60%;\r\n    }\r\n  }\r\n`\r\n","import { useState } from 'react'\r\nimport { useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Authen } from '../../firebaseConfig'\r\nimport globalValues from '../../styles/globalValues'\r\nimport Context from '../../utils/Context'\r\nimport { themes } from '../../styles/themes'\r\nimport TurnOffModalButton from '../../utils/TurnOffModalButton'\r\n\r\nexport default function SignUpModal() {\r\n  const [firstName, setFirstName] = useState('')\r\n  const [lastName, setLastName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const { toggleState, dispatchDimBgModal } = useContext(Context)\r\n  const handleSignUp = () => {\r\n    Authen.signUp(email, password, firstName, lastName, () =>\r\n      dispatchDimBgModal({ type: 'NONE' })\r\n    )\r\n  }\r\n  return (\r\n    <StyledDiv theme={toggleState.isDarkTheme ? themes.dark : themes.light}>\r\n      <TurnOffModalButton />\r\n      <div id='top'>\r\n        <div>Sign Up</div>\r\n        <div>It's quick and easy</div>\r\n      </div>\r\n      <div className='divider'></div>\r\n      <div id='middle'>\r\n        <div className='full-name'>\r\n          <input\r\n            type='text'\r\n            placeholder='First name'\r\n            value={firstName}\r\n            onChange={e => setFirstName(e.target.value)}\r\n          />\r\n          <input\r\n            type='text'\r\n            placeholder='Last name'\r\n            value={lastName}\r\n            onChange={e => setLastName(e.target.value)}\r\n          />\r\n        </div>\r\n        <input\r\n          type='email'\r\n          placeholder='Email'\r\n          value={email}\r\n          onChange={e => setEmail(e.target.value)}\r\n        ></input>\r\n        <input\r\n          type='password'\r\n          placeholder='New password'\r\n          value={password}\r\n          onChange={e => setPassword(e.target.value)}\r\n        />\r\n        <button className='sign-up' onClick={handleSignUp}>\r\n          Sign Up\r\n        </button>\r\n      </div>\r\n      <div className='divider'></div>\r\n      <div id='bottom'>\r\n        <span>Already have an account?</span>\r\n        <button onClick={() => dispatchDimBgModal({ type: 'LOG_IN' })}>\r\n          Log In\r\n        </button>\r\n      </div>\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled.div`\r\n  width: 45rem;\r\n  max-width: 100vw;\r\n  #top,\r\n  #middle,\r\n  #bottom {\r\n    padding: 1.5rem;\r\n    display: flex;\r\n    flex-flow: column;\r\n    row-gap: 1rem;\r\n    align-items: center;\r\n    & button {\r\n      ${globalValues.ButtonCSS};\r\n    }\r\n  }\r\n  #top {\r\n    align-items: flex-start;\r\n    div:first-of-type {\r\n      font-weight: 600;\r\n      font-size: 3rem;\r\n      color: #1c1e21;\r\n    }\r\n    div:last-of-type {\r\n      color: #6d747c;\r\n      font-size: 1.5rem;\r\n    }\r\n  }\r\n  #middle {\r\n    font-size: 1.5rem;\r\n    & input {\r\n      ${globalValues.InputCSS}\r\n    }\r\n    .full-name {\r\n      width: 100%;\r\n      display: flex;\r\n      column-gap: 0.75rem;\r\n    }\r\n    button {\r\n      margin-top: 1.5rem;\r\n    }\r\n  }\r\n  #bottom {\r\n    span {\r\n      font-size: 1.25rem;\r\n    }\r\n    button {\r\n      font-size: 1.5rem;\r\n      width: 50%;\r\n      background-color: #1877f2;\r\n    }\r\n  }\r\n  .divider {\r\n    background-color: #dddfe2;\r\n    height: 1px;\r\n    width: 100%;\r\n  }\r\n`\r\n","import { useContext } from 'react'\r\nimport Context from '../../utils/Context'\r\nimport { FaMoon, FaSun } from 'react-icons/fa'\r\nimport { GoSignOut, GoSignIn } from 'react-icons/go'\r\nimport styled from 'styled-components'\r\nimport globalValues, { imageObjectSettings } from '../../styles/globalValues'\r\nimport { Link } from 'react-router-dom'\r\nimport { themes } from '../../styles/themes'\r\nimport { Authen, DB } from '../../firebaseConfig'\r\nimport { useHistory } from 'react-router'\r\nimport { defaultAvatar } from '../../utils/defaultPhotos'\r\n\r\nconst DropDownMenu: React.FC<any> = () => {\r\n  const {\r\n    currentUserInfo,\r\n    CUAvatarURL,\r\n    isUserSignedIn,\r\n    toggleState,\r\n    dispatchToggle,\r\n    dispatchDimBgModal,\r\n  } = useContext(Context)\r\n\r\n  const history = useHistory()\r\n  const returnToHomepage = () => {\r\n    history.push('/faekbook/')\r\n  }\r\n\r\n  const handleToggleTheme = () => {\r\n    dispatchToggle({ type: 'TOGGLE_THEME' })\r\n    isUserSignedIn &&\r\n      DB.updateUserInfo(currentUserInfo?.uid, {\r\n        is_dark_theme: !toggleState.isDarkTheme,\r\n      })\r\n    dispatchToggle({ type: 'TOGGLE_DROP_DOWN_MENU' })\r\n  }\r\n\r\n  const renderAvatar = (\r\n    <img\r\n      src={isUserSignedIn ? CUAvatarURL || defaultAvatar : defaultAvatar}\r\n      alt='avatar'\r\n    />\r\n  )\r\n\r\n  return (\r\n    <StyledDiv\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      isUserSignedIn={isUserSignedIn ? 1 : 0}\r\n      onClick={e => e.stopPropagation()}\r\n    >\r\n      <Link\r\n        to={`/faekbook/${currentUserInfo?.uid}`}\r\n        onClick={() =>\r\n          isUserSignedIn && dispatchToggle({ type: 'TOGGLE_DROP_DOWN_MENU' })\r\n        }\r\n      >\r\n        <div className='profile'>\r\n          {renderAvatar}\r\n          <div className='name'>\r\n            <span>\r\n              {isUserSignedIn && currentUserInfo\r\n                ? `${currentUserInfo.first_name} ${currentUserInfo.last_name}`\r\n                : 'User'}\r\n            </span>\r\n            <span>{isUserSignedIn ? 'See your profile' : 'Please log in'}</span>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n\r\n      <div className='divider' />\r\n\r\n      <div className='theme-toggler' onClick={handleToggleTheme}>\r\n        <div className='icon'>\r\n          {toggleState.isDarkTheme ? <FaSun /> : <FaMoon />}\r\n        </div>\r\n        Change to {toggleState.isDarkTheme ? 'Light' : 'Dark'} theme\r\n      </div>\r\n\r\n      <div\r\n        className='log-in-out'\r\n        onClick={() => {\r\n          dispatchToggle({ type: 'TOGGLE_DROP_DOWN_MENU' })\r\n          isUserSignedIn\r\n            ? (() => {\r\n                Authen.signOut()\r\n                returnToHomepage()\r\n              })()\r\n            : dispatchDimBgModal({ type: 'LOG_IN' })\r\n        }}\r\n      >\r\n        <div className='icon'>\r\n          {isUserSignedIn ? <GoSignOut /> : <GoSignIn />}\r\n        </div>\r\n        Log {isUserSignedIn ? 'Out' : 'In'}\r\n      </div>\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled('div')<{ isUserSignedIn: number }>`\r\n  position: fixed;\r\n  right: 1rem;\r\n  top: 5rem;\r\n  width: 30rem;\r\n  padding: 1rem;\r\n  z-index: 100;\r\n  border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n  background: ${p => p.theme.main_bgclr};\r\n  box-shadow: ${p => p.theme.bxShdw};\r\n  /* profile, theme-toggler and log-in-out */\r\n  a > .profile,\r\n  .theme-toggler,\r\n  .log-in-out {\r\n    display: flex;\r\n    cursor: pointer;\r\n    border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n    padding: 0.5rem;\r\n    column-gap: 1rem;\r\n    :hover {\r\n      background-color: ${p => p.theme.hover};\r\n    }\r\n  }\r\n  /* profile */\r\n  a {\r\n    text-decoration: none;\r\n    pointer-events: ${p => (p.isUserSignedIn ? 'auto' : 'none')};\r\n    .profile {\r\n      opacity: ${p => (p.isUserSignedIn ? '100%' : '30%')};\r\n      img {\r\n        height: 5rem;\r\n        width: 5rem;\r\n        background: ${p => p.theme.theme_toggler_bgclr};\r\n        ${imageObjectSettings}\r\n      }\r\n      .name {\r\n        display: flex;\r\n        flex-flow: column;\r\n        justify-content: space-evenly;\r\n        span:first-of-type {\r\n          font-size: 1.3rem;\r\n          font-weight: 600;\r\n          color: ${p => p.theme.font};\r\n        }\r\n        span:last-of-type {\r\n          font-size: 1.1375rem;\r\n          color: ${p => p.theme.font_lighter};\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .divider {\r\n    margin-block: 0.5rem;\r\n    height: 2px;\r\n    width: 100%;\r\n    background: ${p => p.theme.divider_clr};\r\n  }\r\n  /* theme-toggler and log-in-out */\r\n  .theme-toggler,\r\n  .log-in-out {\r\n    align-items: center;\r\n    color: ${p => p.theme.font};\r\n    font-weight: 700;\r\n    .icon {\r\n      height: ${globalValues.navbar_elements_height};\r\n      width: ${globalValues.navbar_elements_height};\r\n      border-radius: 50%;\r\n      font-size: 2rem;\r\n      background: ${p => p.theme.theme_toggler_bgclr};\r\n      fill: ${p => p.theme.icon_color};\r\n    }\r\n  }\r\n  .theme-toggler {\r\n    .icon {\r\n      display: grid;\r\n      place-items: center;\r\n    }\r\n  }\r\n  .log-in-out {\r\n    .icon {\r\n      position: relative;\r\n      svg {\r\n        position: absolute;\r\n        top: 0.7rem;\r\n        left: ${p => (p.isUserSignedIn ? '0.7rem' : '0.5rem')};\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default DropDownMenu\r\n","import { useContext, useEffect, useRef, useState } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport globalValues, {\r\n  customizedScrollBar,\r\n  imageObjectSettings,\r\n} from '../../styles/globalValues'\r\nimport Context from '../../utils/Context'\r\nimport TurnOffModalButton from '../../utils/TurnOffModalButton'\r\nimport { themes } from '../../styles/themes'\r\nimport { db, storage } from '../../firebaseConfig'\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  Timestamp,\r\n  updateDoc,\r\n} from '@firebase/firestore'\r\nimport { defaultAvatar } from '../../utils/defaultPhotos'\r\nimport { IoClose, IoImages } from 'react-icons/io5'\r\nimport { v4 as uuid } from 'uuid'\r\nimport {\r\n  deleteObject,\r\n  getDownloadURL,\r\n  ref,\r\n  uploadBytes,\r\n} from '@firebase/storage'\r\nimport { PostType } from '../../types/types'\r\n\r\nexport default function AddEditPostModal({\r\n  CBEPost,\r\n}: {\r\n  CBEPost?: { id: string; photoID: string }\r\n}) {\r\n  const { currentUserInfo, toggleState, dispatchDimBgModal, CUAvatarURL } =\r\n    useContext(Context)\r\n  const [content, setContent] = useState<string>('')\r\n  const [previewPhoto, setPreviewPhoto] = useState<any>()\r\n  const [imgBlob, setImgBlob] = useState<any>()\r\n  const beforeEdittedContent = useRef<string>()\r\n  const [isLoaded, setIsLoaded] = useState<boolean>(false)\r\n\r\n  // * EDIT POST /\r\n  useEffect(() => {\r\n    if (CBEPost) {\r\n      getDoc(doc(db, 'posts', CBEPost.id)).then(post => {\r\n        const content = post.data()?.content\r\n        beforeEdittedContent.current = content\r\n        setContent(content)\r\n        setIsLoaded(true)\r\n      })\r\n      if (CBEPost.photoID) {\r\n        const fileRef = ref(storage, `post_photos/${CBEPost.photoID}`)\r\n        getDownloadURL(fileRef).then(url => setPreviewPhoto(url))\r\n      }\r\n    }\r\n  }, [CBEPost])\r\n\r\n  const updatePost = () => {\r\n    if (CBEPost) {\r\n      if (previewPhoto) {\r\n        if (imgBlob) {\r\n          CBEPost.photoID &&\r\n            deleteObject(ref(storage, `post_photos/${CBEPost.photoID}`))\r\n          const id = uuid()\r\n          const fileRef = ref(storage, `post_photos/${id}`)\r\n          uploadBytes(fileRef, imgBlob).then(() => {\r\n            getDownloadURL(fileRef).then(url => {\r\n              updateDoc(doc(db, 'posts', CBEPost.id), {\r\n                content: content,\r\n                photo: { url, id },\r\n              })\r\n            })\r\n          })\r\n        } else\r\n          updateDoc(doc(db, 'posts', CBEPost.id), {\r\n            content: content,\r\n          })\r\n      } else {\r\n        deleteObject(ref(storage, `post_photos/${CBEPost.photoID}`))\r\n        updateDoc(doc(db, 'posts', CBEPost.id), {\r\n          content: content,\r\n          photo: { url: '', id: '' },\r\n        })\r\n      }\r\n      dispatchDimBgModal({ type: 'NONE' })\r\n    }\r\n  }\r\n  // * EDIT POST END /\r\n\r\n  // * ADD POST /\r\n  const addPostToDB = (url = '', id = '') => {\r\n    const post: PostType = {\r\n      fullname: currentUserInfo.first_name + ' ' + currentUserInfo.last_name,\r\n      userID: currentUserInfo.uid,\r\n      date: Timestamp.fromDate(new Date()),\r\n      content,\r\n      photo: { url, id },\r\n      likes: [],\r\n      comments: [],\r\n    }\r\n    addDoc(collection(db, 'posts'), post)\r\n    dispatchDimBgModal({ type: 'NONE' })\r\n  }\r\n  const addPost = () => {\r\n    if (imgBlob) {\r\n      const id = uuid()\r\n      const fileRef = ref(storage, `post_photos/${id}`)\r\n      uploadBytes(fileRef, imgBlob).then(() =>\r\n        getDownloadURL(fileRef).then(url => addPostToDB(url, id))\r\n      )\r\n    } else addPostToDB()\r\n  }\r\n  // * ADD POST END /\r\n\r\n  const renderModal = (\r\n    <StyledDiv\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      isDarkTheme={toggleState.isDarkTheme ? 1 : 0}\r\n      textSmallSize={content?.length > 40 ? 1 : 0}\r\n      postButtonActivated={content.length > 0 ? 1 : 0}\r\n    >\r\n      <div id='create-post'>\r\n        {CBEPost ? 'Edit Post' : 'Create Post'}\r\n        <TurnOffModalButton />\r\n      </div>\r\n      <div className='divider'></div>\r\n      <div id='user'>\r\n        <img src={CUAvatarURL || defaultAvatar} alt='my_avatar' />\r\n        <div className='name'>\r\n          {currentUserInfo &&\r\n            `${currentUserInfo.first_name} ${currentUserInfo.last_name}`}\r\n        </div>\r\n      </div>\r\n      <textarea\r\n        placeholder=\"What's on your mind?\"\r\n        onChange={e => setContent(e.target.value)}\r\n        value={CBEPost && content}\r\n        autoFocus\r\n        onFocus={e => {\r\n          CBEPost &&\r\n            e.currentTarget.setSelectionRange(\r\n              e.currentTarget.value.length,\r\n              e.currentTarget.value.length\r\n            )\r\n        }}\r\n      />\r\n      <div id='photo'>\r\n        <div className='buttons'>\r\n          <label className='upload-photo'>\r\n            <input\r\n              onChange={(e: any) => {\r\n                const imgBlob = e.target.files[0]\r\n                setPreviewPhoto(URL.createObjectURL(imgBlob))\r\n                setImgBlob(imgBlob)\r\n              }}\r\n              type='file'\r\n              accept='image/*'\r\n              style={{ display: 'none' }}\r\n            />\r\n            <IoImages />\r\n          </label>\r\n          {previewPhoto && (\r\n            <div\r\n              className='cancel-photo'\r\n              onClick={() => {\r\n                setPreviewPhoto('')\r\n                setImgBlob('')\r\n              }}\r\n            >\r\n              <IoClose />\r\n            </div>\r\n          )}\r\n        </div>\r\n        {previewPhoto && (\r\n          <div className='preview'>\r\n            <img src={previewPhoto} alt='preview' />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div id='post-button'>\r\n        <button\r\n          disabled={content.length === 0}\r\n          onClick={() => (CBEPost ? updatePost() : addPost())}\r\n        >\r\n          {CBEPost ? 'Save' : 'Post'}\r\n        </button>\r\n      </div>\r\n    </StyledDiv>\r\n  )\r\n\r\n  return CBEPost ? (isLoaded ? renderModal : null) : renderModal\r\n}\r\n\r\nconst StyledDiv = styled('div')<{\r\n  isDarkTheme: number\r\n  textSmallSize: number\r\n  postButtonActivated: number\r\n}>`\r\n  ${p => css`\r\n    width: 50rem;\r\n    max-width: 100vw;\r\n    max-height: 40rem;\r\n    background-color: ${p.theme.main_bgclr};\r\n    color: ${p.theme.font};\r\n    border-radius: 10px;\r\n    overflow: auto;\r\n    ${customizedScrollBar}\r\n    #user,\r\n    textarea,\r\n    #post-button {\r\n      padding: 1.5rem 1.5rem;\r\n    }\r\n\r\n    #create-post {\r\n      line-height: 5.5rem;\r\n      text-align: center;\r\n      font-size: 2.5rem;\r\n      font-weight: 700;\r\n      height: 5.5rem;\r\n      position: relative;\r\n      #turn-off-modal {\r\n        top: 0;\r\n      }\r\n    }\r\n    #user {\r\n      display: flex;\r\n      align-items: center;\r\n      column-gap: 1rem;\r\n      img {\r\n        height: 4rem;\r\n        width: 4rem;\r\n        ${imageObjectSettings}\r\n      }\r\n      .name {\r\n        font-size: 1.5rem;\r\n        font-weight: 500;\r\n      }\r\n    }\r\n\r\n    textarea {\r\n      padding-top: 0;\r\n      background-color: inherit;\r\n      font-family: inherit;\r\n      font-size: ${p.textSmallSize ? '1.5rem' : '2.5rem'};\r\n      display: block;\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      min-height: 10rem;\r\n      resize: none;\r\n      color: ${p.theme.font};\r\n      overflow-y: auto;\r\n      white-space: pre-wrap;\r\n      ${customizedScrollBar}\r\n    }\r\n    #photo {\r\n      position: relative;\r\n      min-height: 6rem;\r\n      margin-inline: auto;\r\n      width: 95%;\r\n      .buttons {\r\n        position: absolute;\r\n        width: 100%;\r\n        display: flex;\r\n        padding-top: 1rem;\r\n        padding-right: 1rem;\r\n        column-gap: 1rem;\r\n        justify-content: end;\r\n        .upload-photo,\r\n        .cancel-photo {\r\n          border-radius: 50%;\r\n          height: 3.5rem;\r\n          width: 3.5rem;\r\n          display: grid;\r\n          place-items: center;\r\n          font-size: 2rem;\r\n          color: #45bd62;\r\n          background-color: ${p.theme.theme_toggler_bgclr};\r\n          :hover {\r\n            cursor: pointer;\r\n            filter: brightness(${p.theme.type === 'light' ? '0.9' : '1.3'});\r\n          }\r\n        }\r\n        .cancel-photo {\r\n          color: ${p.theme.font};\r\n          font-size: 2.5rem;\r\n        }\r\n      }\r\n      .preview {\r\n        margin-top: 2rem;\r\n        img {\r\n          width: 100%;\r\n          border-radius: 15px;\r\n        }\r\n      }\r\n    }\r\n    #post-button {\r\n      button {\r\n        width: 100%;\r\n        height: 3.5rem;\r\n        font-size: 1.5rem;\r\n        font-weight: 700;\r\n        border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n        margin-inline: auto;\r\n        border: none;\r\n        color: ${p.postButtonActivated ? 'white' : '#858686'};\r\n        background-color: ${p.postButtonActivated\r\n          ? '#2D88FF'\r\n          : p.isDarkTheme\r\n          ? '#505151'\r\n          : '#e4e6eb'};\r\n        :hover {\r\n          cursor: ${p.postButtonActivated ? 'pointer' : 'not-allowed'};\r\n        }\r\n      }\r\n    }\r\n    .divider {\r\n      background-color: ${p.isDarkTheme ? '#424242' : '#dddfe2'};\r\n      margin-inline: auto;\r\n      height: 2px;\r\n      width: 100%;\r\n    }\r\n  `};\r\n`\r\n","import React, { useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport Context from './Context'\r\nimport { themes } from '../styles/themes'\r\n\r\nconst ShowMoreButton: React.FC<{ addMorePosts: any }> = ({ addMorePosts }) => {\r\n  const { toggleState } = useContext(Context)\r\n  return (\r\n    <StyledButton\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      isDarkTheme={toggleState.isDarkTheme ? 1 : 0}\r\n      onClick={addMorePosts}\r\n    >\r\n      Show More\r\n    </StyledButton>\r\n  )\r\n}\r\n\r\nconst StyledButton = styled('button')<{ isDarkTheme: number }>`\r\n  background-color: ${p => p.theme.main_bgclr};\r\n  color: ${p => p.theme.font};\r\n  border: none;\r\n  padding: 1rem 1.5rem;\r\n  border-radius: 5px;\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  margin-top: 2rem;\r\n  align-self: center;\r\n  :hover {\r\n    cursor: pointer;\r\n    background-color: ${p => (p.isDarkTheme ? '#525252ac' : '#ebebebae')};\r\n  }\r\n`\r\n\r\nexport default ShowMoreButton\r\n","import { doc, getDoc } from '@firebase/firestore'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { Storage, db } from '../firebaseConfig'\r\nimport Context from '../utils/Context'\r\nimport { defaultAvatar } from '../utils/defaultPhotos'\r\nimport { themes } from '../styles/themes'\r\nimport { imageObjectSettings } from '../styles/globalValues'\r\n\r\nconst UserBubble: React.FC<{ userID: string }> = ({ userID }) => {\r\n  const { toggleState } = useContext(Context)\r\n  const [avatar, setAvatar] = useState<any>(null)\r\n  const [userInfo, setUserInfo] = useState<any>(null)\r\n  useEffect(() => {\r\n    Storage.updatePhotoURL(userID, setAvatar)\r\n    getDoc(doc(db, 'users', userID)).then(userSnap => {\r\n      const user = userSnap.data()\r\n      setUserInfo(user)\r\n    })\r\n  }, [userID])\r\n  return (\r\n    <Link to={`/faekbook/${userID}`}>\r\n      <StyledDiv theme={toggleState.isDarkTheme ? themes.dark : themes.light}>\r\n        <div className='name'>\r\n          {userInfo?.first_name + ' ' + userInfo?.last_name}\r\n        </div>\r\n        <img src={avatar || defaultAvatar} alt='avatar' />\r\n      </StyledDiv>\r\n    </Link>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled('div')`\r\n  :hover {\r\n    cursor: pointer;\r\n    .name {\r\n      display: block;\r\n    }\r\n  }\r\n  .name {\r\n    display: none;\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    margin-top: 5rem;\r\n    padding: 1rem 1.5rem;\r\n    border-radius: 10px;\r\n    background: ${p => p.theme.tooltip_bgclr};\r\n    color: ${p => p.theme.tooltip_fontclr};\r\n    z-index: 100;\r\n    font-size: 1.25rem;\r\n    font-weight: 600;\r\n  }\r\n  img {\r\n    height: 4rem;\r\n    width: 4rem;\r\n    background: ${p => p.theme.theme_toggler_bgclr};\r\n    ${imageObjectSettings};\r\n  }\r\n`\r\n\r\nexport default UserBubble\r\n","import { useContext, useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Context from '../utils/Context'\r\nimport { themes } from '../styles/themes'\r\nimport { customizedScrollBar } from '../styles/globalValues'\r\nimport UserBubble from './UserBubble'\r\nimport { collection, query } from '@firebase/firestore'\r\nimport { db, DB } from '../firebaseConfig'\r\n\r\nexport default function AllUsers() {\r\n  const { toggleState, isUserSignedIn } = useContext(Context)\r\n  const [allUsers, setAllUsers] = useState<any>(null)\r\n  useEffect(() => {\r\n    const usersRef = collection(db, 'users')\r\n    const unsub = DB.setSnapshotListener(query(usersRef), setAllUsers)\r\n    console.log('AllUsers render')\r\n    return () => {\r\n      unsub()\r\n    }\r\n  }, [isUserSignedIn])\r\n  const renderUsers = allUsers?.map((u: any) => (\r\n    <UserBubble key={u.uid} userID={u.uid} />\r\n  ))\r\n  return (\r\n    <StyledSection theme={toggleState.isDarkTheme ? themes.dark : themes.light}>\r\n      {renderUsers}\r\n    </StyledSection>\r\n  )\r\n}\r\n\r\nconst StyledSection = styled.section`\r\n  background-color: ${p => p.theme.main_bgclr};\r\n  width: 50rem;\r\n  max-width: 100%;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  column-gap: 1rem;\r\n  margin-inline: auto;\r\n  border-radius: 1rem;\r\n  margin-top: 2rem;\r\n  overflow-y: auto;\r\n  ${customizedScrollBar};\r\n`\r\n","import React from 'react'\r\n\r\nconst BlueBgLikeIcon: React.FC<{ setIsShowingViewLikes?: any }> = ({\r\n  setIsShowingViewLikes,\r\n}) => {\r\n  return (\r\n    <img\r\n      className='icon'\r\n      onClick={() => setIsShowingViewLikes && setIsShowingViewLikes(true)}\r\n      src=\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='0%25' y2='100%25'%3e%3cstop offset='0%25' stop-color='%2318AFFF'/%3e%3cstop offset='100%25' stop-color='%230062DF'/%3e%3c/linearGradient%3e%3cfilter id='c' width='118.8%25' height='118.8%25' x='-9.4%25' y='-9.4%25' filterUnits='objectBoundingBox'%3e%3cfeGaussianBlur in='SourceAlpha' result='shadowBlurInner1' stdDeviation='1'/%3e%3cfeOffset dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1'/%3e%3cfeComposite in='shadowOffsetInner1' in2='SourceAlpha' k2='-1' k3='1' operator='arithmetic' result='shadowInnerInner1'/%3e%3cfeColorMatrix in='shadowInnerInner1' values='0 0 0 0 0 0 0 0 0 0.299356041 0 0 0 0 0.681187726 0 0 0 0.3495684 0'/%3e%3c/filter%3e%3cpath id='b' d='M8 0a8 8 0 00-8 8 8 8 0 1016 0 8 8 0 00-8-8z'/%3e%3c/defs%3e%3cg fill='none'%3e%3cuse fill='url(%23a)' xlink:href='%23b'/%3e%3cuse fill='black' filter='url(%23c)' xlink:href='%23b'/%3e%3cpath fill='white' d='M12.162 7.338c.176.123.338.245.338.674 0 .43-.229.604-.474.725a.73.73 0 01.089.546c-.077.344-.392.611-.672.69.121.194.159.385.015.62-.185.295-.346.407-1.058.407H7.5c-.988 0-1.5-.546-1.5-1V7.665c0-1.23 1.467-2.275 1.467-3.13L7.361 3.47c-.005-.065.008-.224.058-.27.08-.079.301-.2.635-.2.218 0 .363.041.534.123.581.277.732.978.732 1.542 0 .271-.414 1.083-.47 1.364 0 0 .867-.192 1.879-.199 1.061-.006 1.749.19 1.749.842 0 .261-.219.523-.316.666zM3.6 7h.8a.6.6 0 01.6.6v3.8a.6.6 0 01-.6.6h-.8a.6.6 0 01-.6-.6V7.6a.6.6 0 01.6-.6z'/%3e%3c/g%3e%3c/svg%3e\"\r\n      alt='like-icon'\r\n    />\r\n  )\r\n}\r\n\r\nexport default BlueBgLikeIcon\r\n","import { useContext, useEffect, useRef } from 'react'\r\nimport Context from '../../utils/Context'\r\nimport styled from 'styled-components'\r\nimport globalValues from '../../styles/globalValues'\r\nimport { themes } from '../../styles/themes'\r\nimport { RiDeleteBin6Line } from 'react-icons/ri'\r\nimport { FiEdit } from 'react-icons/fi'\r\nimport { deleteDoc, doc, getDoc, updateDoc } from '@firebase/firestore'\r\nimport { db } from '../../firebaseConfig'\r\n\r\nconst CommentModal: React.FC<{\r\n  commentID: string\r\n  setIsEditting: any\r\n  postID: string\r\n  setIsShowingModal?: any\r\n}> = ({ commentID, setIsEditting, setIsShowingModal, postID }) => {\r\n  const { toggleState } = useContext(Context)\r\n  const modalNode = useRef(null)\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClick)\r\n    return () => {\r\n      document.removeEventListener('click', handleClick)\r\n    }\r\n  }, [])\r\n  const handleClick = (e: any) => {\r\n    e.target === modalNode.current || setIsShowingModal(false)\r\n  }\r\n  const handleDeleteCmt = (e: any) => {\r\n    e.stopPropagation()\r\n    setIsEditting(false)\r\n    deleteDoc(doc(db, 'comments', commentID))\r\n    getDoc(doc(db, 'posts', postID)).then(post => {\r\n      const comments = post.data()?.comments\r\n      updateDoc(doc(db, 'posts', postID), {\r\n        comments: comments.filter((cmt: string) => cmt !== commentID),\r\n      })\r\n    })\r\n  }\r\n\r\n  return (\r\n    <StyledDiv\r\n      ref={modalNode}\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n    >\r\n      <div\r\n        className='icon'\r\n        onClick={e => {\r\n          e.stopPropagation()\r\n          setIsEditting(true)\r\n          setIsShowingModal(false)\r\n        }}\r\n      >\r\n        <div className='icon-wrapper'>\r\n          <FiEdit />\r\n        </div>\r\n        Edit\r\n      </div>\r\n\r\n      <div className='icon' onClick={handleDeleteCmt}>\r\n        <div className='icon-wrapper'>\r\n          <RiDeleteBin6Line />\r\n        </div>\r\n        Delete\r\n      </div>\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled('div')`\r\n  position: absolute;\r\n  right: -2rem;\r\n  top: 5rem;\r\n  width: 10rem;\r\n  padding: 0.5rem;\r\n  z-index: 100;\r\n  border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n  background: ${p => p.theme.main_bgclr};\r\n  box-shadow: ${p => p.theme.bxShdw};\r\n  font-size: 1rem;\r\n  .icon {\r\n    display: flex;\r\n    cursor: pointer;\r\n    border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n    padding: 0.5rem;\r\n    column-gap: 1rem;\r\n    align-items: center;\r\n    color: ${p => p.theme.font};\r\n    font-weight: 700;\r\n    :hover {\r\n      background-color: ${p => p.theme.hover};\r\n    }\r\n    .icon-wrapper {\r\n      height: 2.5rem;\r\n      width: 2.5rem;\r\n      border-radius: 50%;\r\n      background: ${p => p.theme.theme_toggler_bgclr};\r\n      fill: ${p => p.theme.icon_color};\r\n      font-size: 1.25rem;\r\n      display: grid;\r\n      place-items: center;\r\n    }\r\n  }\r\n`\r\n\r\nexport default CommentModal\r\n","import { doc, updateDoc } from '@firebase/firestore'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { db } from '../firebaseConfig'\r\nimport Context from '../utils/Context'\r\nimport { themes } from '../styles/themes'\r\n\r\nconst WriteAComment: React.FC<{\r\n  commentID?: string\r\n  content?: string\r\n  setIsEditting?: any\r\n}> = ({ commentID, content, setIsEditting }) => {\r\n  const { toggleState } = useContext(Context)\r\n  const [edittingContent, setEdittingContent] = useState<string>('')\r\n  useEffect(() => {\r\n    content && setEdittingContent(content)\r\n  }, [content])\r\n\r\n  const updatePost = (e: any) => {\r\n    if (e.keyCode === 13) {\r\n      if (commentID) {\r\n        updateDoc(doc(db, 'comments', commentID), { content: edittingContent })\r\n        setIsEditting(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledInput\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      isDarkTheme={toggleState.isDarkTheme ? 1 : 0}\r\n      value={edittingContent}\r\n      placeholder='Write a comment...'\r\n      onChange={e => {\r\n        setEdittingContent(e.target.value)\r\n      }}\r\n      onKeyDown={updatePost}\r\n      autoFocus\r\n      onFocus={e =>\r\n        e.currentTarget.setSelectionRange(\r\n          e.currentTarget.value.length,\r\n          e.currentTarget.value.length\r\n        )\r\n      }\r\n    ></StyledInput>\r\n  )\r\n}\r\n\r\nconst StyledInput = styled('input')<{ isDarkTheme: number }>`\r\n  font-family: inherit;\r\n  color: ${p => p.theme.font};\r\n  border: none;\r\n  outline: none;\r\n  flex-grow: 1;\r\n  padding: 1rem 1.5rem;\r\n  font-size: 1.5rem;\r\n  border-radius: 2rem;\r\n  background: ${p => p.theme.whats_on_ur_mind_bgclr};\r\n  display: flex;\r\n  align-items: center;\r\n  :hover {\r\n    cursor: text;\r\n    filter: brightness(${p => (p.isDarkTheme ? '1.1' : '0.95')});\r\n  }\r\n  ::placeholder {\r\n    color: ${p => p.theme.font_lighter};\r\n  }\r\n`\r\n\r\nexport default WriteAComment\r\n","import { useContext, useEffect, useRef, useState } from 'react'\r\nimport Context from '../../utils/Context'\r\nimport styled from 'styled-components'\r\nimport globalValues, {\r\n  customizedScrollBar,\r\n  imageObjectSettings,\r\n} from '../../styles/globalValues'\r\nimport { themes } from '../../styles/themes'\r\nimport { Link } from 'react-router-dom'\r\nimport BlueBgLikeIcon from '../../utils/BlueBgLikeIcon'\r\n\r\nconst ViewLikes: React.FC<{\r\n  setIsShowingViewLikes: any\r\n  likes: any\r\n  isComment?: boolean\r\n}> = ({ setIsShowingViewLikes, likes, isComment }) => {\r\n  const { toggleState } = useContext(Context)\r\n  const modalNode = useRef(null)\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClick)\r\n    return () => {\r\n      document.removeEventListener('click', handleClick)\r\n    }\r\n  }, [])\r\n\r\n  const renderLikesInfo = likes.map((like: any) => {\r\n    return (\r\n      <div id='user' key={like.userID}>\r\n        <Link to={`/faekbook/${like.userID}`}>\r\n          <div className='avatar'>\r\n            <img src={like.avatarURL} alt='avatar' className='image' />\r\n            <BlueBgLikeIcon />\r\n          </div>\r\n          <span>{like.full_name}</span>\r\n        </Link>\r\n      </div>\r\n    )\r\n  })\r\n\r\n  const handleClick = (e: any) => {\r\n    e.target === modalNode.current || setIsShowingViewLikes(false)\r\n  }\r\n  return (\r\n    <StyledDiv\r\n      ref={modalNode}\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      isComment={isComment ? 1 : 0}\r\n    >\r\n      {renderLikesInfo}\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled('div')<{ isComment: number }>`\r\n  position: absolute;\r\n  display: flex;\r\n  flex-flow: column;\r\n  z-index: 100;\r\n  left: ${p => (p.isComment ? '3.5rem' : '4rem')};\r\n  width: ${p => (p.isComment ? '18rem' : '25rem')};\r\n  padding: 0.5rem;\r\n  max-height: 18rem;\r\n  border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n  background: ${p => p.theme.main_bgclr};\r\n  box-shadow: ${p => p.theme.bxShdw};\r\n  font-size: ${p => (p.isComment ? '1rem' : '1.25rem')};\r\n  overflow: auto;\r\n  ${customizedScrollBar}\r\n  #user {\r\n    a {\r\n      text-decoration: none;\r\n      display: flex;\r\n      cursor: pointer;\r\n      border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n      padding: 0.5rem;\r\n      column-gap: ${p => (p.isComment ? '1.25rem' : '2rem')};\r\n      align-items: center;\r\n      color: ${p => p.theme.font};\r\n      font-weight: 700;\r\n      height: ${p => (p.isComment ? '4rem' : '5rem')};\r\n      line-height: 1.25;\r\n      :hover {\r\n        background-color: ${p => p.theme.hover};\r\n        text-decoration: none;\r\n      }\r\n      .avatar {\r\n        position: relative;\r\n        height: ${p => (p.isComment ? '3rem' : '3.5rem')};\r\n        width: ${p => (p.isComment ? '3rem' : '3.5rem')};\r\n        .image {\r\n          height: inherit;\r\n          width: inherit;\r\n          ${imageObjectSettings};\r\n        }\r\n        .icon {\r\n          position: absolute;\r\n          bottom: -0.5rem;\r\n          right: -0.5rem;\r\n          height: ${p => (p.isComment ? '1.25rem' : '1.5rem')};\r\n          width: ${p => (p.isComment ? '1.25rem' : '1.5rem')};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default ViewLikes\r\n","import { BsThreeDots } from 'react-icons/bs'\r\nimport styled from 'styled-components'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport Context from '../utils/Context'\r\nimport { themes } from '../styles/themes'\r\nimport { defaultAvatar } from '../utils/defaultPhotos'\r\nimport { doc, getDoc, Timestamp } from '@firebase/firestore'\r\nimport { format } from 'date-fns'\r\nimport fromUnixTime from 'date-fns/fromUnixTime'\r\nimport { DB, db, Storage } from '../firebaseConfig'\r\nimport BlueBgLikeIcon from '../utils/BlueBgLikeIcon'\r\nimport CommentModal from './Modals/CommentModal'\r\nimport WriteAComment from './WriteAComment'\r\nimport { Link } from 'react-router-dom'\r\nimport ViewLikes from './Modals/ViewLikes'\r\nimport { imageObjectSettings } from '../styles/globalValues'\r\n\r\nconst Comment: React.FC<{\r\n  commenterUID: string\r\n  content: string\r\n  postID: string\r\n  likes: Array<string>\r\n  date: Timestamp\r\n  commentID: string\r\n}> = ({ commenterUID, content, date, likes, commentID, postID }) => {\r\n  const { toggleState, currentUserInfo, isUserSignedIn } = useContext(Context)\r\n  const [commentAvatar, setCommentAvatar] = useState<any>(null)\r\n  const [userInfo, setUserInfo] = useState<any>(null)\r\n  const [isShowingModal, setIsShowingModal] = useState<boolean>(false)\r\n  const [isShowingViewLikes, setIsShowingViewLikes] = useState<boolean>(false)\r\n  const [isLikedByCU, setIsLiked] = useState<boolean>(false)\r\n  const [isEditting, setIsEditting] = useState<boolean>(false)\r\n\r\n  // ! set photo URL/\r\n  useEffect(() => {\r\n    Storage.updatePhotoURL(commenterUID, setCommentAvatar)\r\n    getDoc(doc(db, 'users', commenterUID)).then(userSnap => {\r\n      const userInfo = userSnap.data()\r\n      setUserInfo(userInfo)\r\n    })\r\n  }, [commenterUID])\r\n  // ! set photo URL END/\r\n\r\n  // !  setIsLiked /\r\n  useEffect(() => {\r\n    const likesUserIDs = likes.map((like: any) => like.userID)\r\n    likesUserIDs.includes(currentUserInfo?.uid)\r\n      ? setIsLiked(true)\r\n      : setIsLiked(false)\r\n  }, [currentUserInfo?.uid, likes])\r\n  // !  setIsLiked END /\r\n\r\n  return (\r\n    <StyledDiv\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      isLikedByCU={isLikedByCU ? 1 : 0}\r\n      hasLikes={likes.length > 0 ? 1 : 0}\r\n    >\r\n      <Link to={`/faekbook/${commenterUID}`}>\r\n        <img src={commentAvatar || defaultAvatar} alt='comment_avatar' />\r\n      </Link>\r\n      {isEditting ? (\r\n        <WriteAComment\r\n          commentID={commentID}\r\n          setIsEditting={setIsEditting}\r\n          content={content}\r\n        />\r\n      ) : (\r\n        <div className='middle'>\r\n          <div className='top'>\r\n            <div className='bubble'>\r\n              <Link to={`/faekbook/${commenterUID}`}>\r\n                <div className='username'>\r\n                  {userInfo?.first_name} {userInfo?.last_name}\r\n                </div>\r\n              </Link>\r\n              <div className='content'>{content}</div>\r\n              {likes.length >= 1 && (\r\n                <div\r\n                  className='like-icon'\r\n                  onClick={() => setIsShowingViewLikes(true)}\r\n                >\r\n                  <BlueBgLikeIcon />\r\n                  <span>{likes.length}</span>\r\n                  {isShowingViewLikes && (\r\n                    <ViewLikes\r\n                      likes={likes}\r\n                      setIsShowingViewLikes={setIsShowingViewLikes}\r\n                      isComment={true}\r\n                    />\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n            {commenterUID === currentUserInfo?.uid && (\r\n              <div className='three-dots'>\r\n                <div\r\n                  className='icon'\r\n                  onClick={() => setIsShowingModal(!isShowingModal)}\r\n                >\r\n                  <BsThreeDots />\r\n                </div>\r\n                {isShowingModal && (\r\n                  <CommentModal\r\n                    commentID={commentID}\r\n                    postID={postID}\r\n                    setIsEditting={setIsEditting}\r\n                    setIsShowingModal={setIsShowingModal}\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className='like'>\r\n            {isUserSignedIn && (\r\n              <span\r\n                onClick={() =>\r\n                  DB.like(currentUserInfo?.uid, commentID, 'comments')\r\n                }\r\n              >\r\n                Like\r\n              </span>\r\n            )}\r\n            {`${format(fromUnixTime(date.seconds), 'yyyy, MMM d')} at ${format(\r\n              fromUnixTime(date.seconds),\r\n              'h:mm a'\r\n            )}`}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {isEditting && (\r\n        <div className='cancel' onClick={() => setIsEditting(!isEditting)}>\r\n          Cancel\r\n        </div>\r\n      )}\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled('div')<{ isLikedByCU: number; hasLikes: number }>`\r\n  display: flex;\r\n  column-gap: 1rem;\r\n  align-items: center;\r\n  :hover {\r\n    & > .middle > .top > .three-dots > .icon > svg {\r\n      display: block;\r\n    }\r\n  }\r\n  img {\r\n    height: 3.5rem;\r\n    width: 3.5rem;\r\n    ${imageObjectSettings};\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .middle {\r\n    .top {\r\n      display: flex;\r\n      .bubble {\r\n        padding: 1rem 1rem 0.5rem;\r\n        border-radius: 20px;\r\n        background: ${p => p.theme.whats_on_ur_mind_bgclr};\r\n        font-size: 1.15rem;\r\n        color: ${p => p.theme.font};\r\n        position: relative;\r\n        min-width: 13.5rem;\r\n        a {\r\n          color: inherit;\r\n          text-decoration: none;\r\n          .username {\r\n            font-weight: 500;\r\n            padding-bottom: 0.25rem;\r\n            :hover {\r\n              text-decoration: underline;\r\n              cursor: pointer;\r\n            }\r\n          }\r\n        }\r\n        .content {\r\n          line-height: 1.4;\r\n        }\r\n        .like-icon {\r\n          border-radius: 10px;\r\n          padding: 0.25rem;\r\n          background: ${p => p.theme.like_icon_bgclr};\r\n          box-shadow: rgba(0, 0, 0, 0.3) -1px 1px 3px;\r\n          position: absolute;\r\n          right: -1.75rem;\r\n          bottom: 0.25rem;\r\n          display: flex;\r\n          align-items: center;\r\n          font-size: 0.9rem;\r\n          :hover {\r\n            cursor: pointer;\r\n          }\r\n          img {\r\n            margin-right: 0.25rem;\r\n            height: 1.25rem;\r\n            width: 1.25rem;\r\n          }\r\n        }\r\n      }\r\n      .three-dots {\r\n        position: relative;\r\n        display: grid;\r\n        place-items: center;\r\n        border-radius: 50%;\r\n        width: ${p => (p.hasLikes ? '5rem' : '2rem')};\r\n        margin-left: 1rem;\r\n        font-size: 1.25rem;\r\n        & > .icon {\r\n          display: grid;\r\n          place-items: center;\r\n          border-radius: 50%;\r\n          height: 2.5rem;\r\n          width: 2.5rem;\r\n          :hover {\r\n            cursor: pointer;\r\n            background-color: ${p => p.theme.theme_toggler_bgclr};\r\n          }\r\n          svg {\r\n            display: none;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .like {\r\n      padding-top: 0.5rem;\r\n      margin-left: 0.75rem;\r\n      font-weight: 500;\r\n      font-size: 0.85rem;\r\n      span {\r\n        color: ${p => p.isLikedByCU && '#036ee2'};\r\n        font-weight: 600;\r\n        font-size: 1rem;\r\n        padding-right: 1rem;\r\n        :hover {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .cancel {\r\n    color: #036ee2;\r\n    :hover {\r\n      cursor: pointer;\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n`\r\n\r\nexport default Comment\r\n","import { useContext, useEffect, useRef } from 'react'\r\nimport Context from '../../utils/Context'\r\nimport styled from 'styled-components'\r\nimport globalValues from '../../styles/globalValues'\r\nimport { themes } from '../../styles/themes'\r\nimport { RiDeleteBin6Line } from 'react-icons/ri'\r\nimport { FiEdit } from 'react-icons/fi'\r\nimport { deleteDoc, doc } from '@firebase/firestore'\r\nimport { db, storage } from '../../firebaseConfig'\r\nimport { deleteObject, ref } from '@firebase/storage'\r\n\r\nconst PostDropDownModal: React.FC<{\r\n  postID: string\r\n  setIsShowingModal: any\r\n  isShowingModal: boolean\r\n  photoID: string\r\n  comments: Array<string>\r\n}> = ({ postID, setIsShowingModal, isShowingModal, photoID, comments }) => {\r\n  const { toggleState, dispatchDimBgModal, setCBEPost } = useContext(Context)\r\n  const modalNode = useRef(null)\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClick)\r\n    return () => {\r\n      document.removeEventListener('click', handleClick)\r\n    }\r\n  }, [])\r\n  const handleClick = (e: any) => {\r\n    e.target === modalNode.current || setIsShowingModal(!isShowingModal)\r\n  }\r\n\r\n  const handleEditPost = (e: any) => {\r\n    e.stopPropagation()\r\n    setIsShowingModal(false)\r\n    if (postID) {\r\n      setCBEPost({ id: postID, photoID: photoID })\r\n      dispatchDimBgModal({ type: 'EDIT_POST' })\r\n    }\r\n  }\r\n\r\n  const handleDeletePost = (e: any) => {\r\n    e.stopPropagation()\r\n    setIsShowingModal(false)\r\n    deleteDoc(doc(db, 'posts', postID))\r\n    comments.forEach(cmt => deleteDoc(doc(db, 'comments', cmt)))\r\n    photoID && deleteObject(ref(storage, `post_photos/${photoID}`))\r\n  }\r\n\r\n  return (\r\n    <StyledDiv\r\n      ref={modalNode}\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n    >\r\n      <div className='icon' onClick={handleEditPost}>\r\n        <div className='icon-wrapper'>\r\n          <FiEdit />\r\n        </div>\r\n        Edit Post\r\n      </div>\r\n\r\n      <div className='icon' onClick={handleDeletePost}>\r\n        <div className='icon-wrapper'>\r\n          <RiDeleteBin6Line />\r\n        </div>\r\n        Delete Post\r\n      </div>\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled('div')`\r\n  position: absolute;\r\n  right: 1rem;\r\n  top: 5rem;\r\n  width: 20rem;\r\n  padding: 0.5rem;\r\n  z-index: 100;\r\n  border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n  background: ${p => p.theme.main_bgclr};\r\n  box-shadow: ${p => p.theme.bxShdw};\r\n  /* profile, edit and delete */\r\n  .icon {\r\n    display: flex;\r\n    cursor: pointer;\r\n    border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n    padding: 0.5rem;\r\n    column-gap: 1rem;\r\n    align-items: center;\r\n    color: ${p => p.theme.font};\r\n    font-weight: 700;\r\n    :hover {\r\n      background-color: ${p => p.theme.hover};\r\n    }\r\n    .icon-wrapper {\r\n      height: ${globalValues.navbar_elements_height};\r\n      width: ${globalValues.navbar_elements_height};\r\n      border-radius: 50%;\r\n      background: ${p => p.theme.theme_toggler_bgclr};\r\n      fill: ${p => p.theme.icon_color};\r\n      font-size: 1.75rem;\r\n      display: grid;\r\n      place-items: center;\r\n    }\r\n  }\r\n`\r\n\r\nexport default PostDropDownModal\r\n","import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { BsThreeDots } from 'react-icons/bs'\r\nimport Context from '../utils/Context'\r\nimport { themes } from '../styles/themes'\r\nimport { AiFillLike } from 'react-icons/ai'\r\nimport { FaComment, FaCommentSlash } from 'react-icons/fa'\r\nimport globalValues, { imageObjectSettings } from '../styles/globalValues'\r\nimport { format, fromUnixTime } from 'date-fns'\r\nimport BlueBgLikeIcon from '../utils/BlueBgLikeIcon'\r\nimport { CommentType, PostType } from '../types/types'\r\nimport { defaultAvatar } from '../utils/defaultPhotos'\r\nimport Comment from './Comment'\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  orderBy,\r\n  query,\r\n  Timestamp,\r\n  updateDoc,\r\n  where,\r\n} from '@firebase/firestore'\r\nimport { DB, db, Storage } from '../firebaseConfig'\r\nimport { Link } from 'react-router-dom'\r\nimport PostDropDownModal from './Modals/PostDropDownModal'\r\nimport ViewLikes from './Modals/ViewLikes'\r\nimport ColorThief from 'colorthief'\r\n\r\nconst Post: React.FC<PostType> = ({\r\n  fullname,\r\n  userID,\r\n  postID,\r\n  date,\r\n  content,\r\n  likes,\r\n  photo,\r\n  comments,\r\n}) => {\r\n  const { currentUserInfo, toggleState, isUserSignedIn, CUAvatarURL } =\r\n    useContext(Context)\r\n  const [isLikedByCurrentUser, setIsLiked] = useState<boolean>()\r\n  const [postAvatarURL, setPostAvatar] = useState<any>(null)\r\n  const [isShowingComments, setIsShowingComments] = useState<boolean>()\r\n  const [commentInput, setCommentInput] = useState('')\r\n  const [postCmts, setPostCmts] = useState<any>()\r\n  const [isShowingModal, setIsShowingModal] = useState<boolean>()\r\n  const threeDotsNode = useRef(null)\r\n  const [isShowingViewLikes, setIsShowingViewLikes] = useState<boolean>(false)\r\n\r\n  useEffect(() => {\r\n    //* set post avatar */\r\n    Storage.updatePhotoURL(userID, setPostAvatar)\r\n  }, [userID])\r\n\r\n  useEffect(() => {\r\n    //* set like effects */\r\n    if (isUserSignedIn) {\r\n      const likesUserIDs = likes.map((like: any) => like.userID)\r\n      likesUserIDs.includes(currentUserInfo?.uid)\r\n        ? setIsLiked(true)\r\n        : setIsLiked(false)\r\n    } else setIsLiked(false)\r\n  }, [currentUserInfo?.uid, isUserSignedIn, likes])\r\n\r\n  useEffect(() => {\r\n    //* set comments\r\n    const cmtsRef = collection(db, 'comments')\r\n    const q = query(cmtsRef, where('postID', '==', postID), orderBy('date'))\r\n    const unsub = DB.setSnapshotListener(q, setPostCmts)\r\n    return () => {\r\n      unsub()\r\n    }\r\n  }, [postID])\r\n\r\n  const postComment = (e: any) => {\r\n    e.preventDefault()\r\n    if (commentInput.length > 0) {\r\n      if (postID) {\r\n        const newComment: CommentType = {\r\n          postID: postID,\r\n          commenterID: currentUserInfo?.uid,\r\n          date: Timestamp.fromDate(new Date()),\r\n          content: commentInput,\r\n          likes: [],\r\n        }\r\n        addDoc(collection(db, 'comments'), newComment).then(cmt => {\r\n          getDoc(doc(db, 'posts', postID)).then(post => {\r\n            const comments = post.data()?.comments\r\n            updateDoc(doc(db, 'posts', postID), {\r\n              comments: [...comments, cmt.id],\r\n            })\r\n          })\r\n        })\r\n      }\r\n      setCommentInput('')\r\n    }\r\n  }\r\n  const renderComments = postCmts?.map((cmt: any) => (\r\n    <Comment\r\n      key={cmt.id}\r\n      postID={cmt.postID}\r\n      commentID={cmt.id}\r\n      commenterUID={cmt.commenterID}\r\n      content={cmt.content}\r\n      date={cmt.date}\r\n      likes={cmt.likes}\r\n    />\r\n  ))\r\n\r\n  const imgRef = useRef<HTMLImageElement | null>(null)\r\n  const [bgGradient, setBgGradient] = useState<string>('')\r\n  useEffect(() => {\r\n    if (photo.url) {\r\n      const colorThief = new ColorThief()\r\n      if (imgRef.current) {\r\n        imgRef.current.onload = () => {\r\n          const color = colorThief.getColor(imgRef.current).toString()\r\n          setBgGradient(`rgba(${color})`)\r\n        }\r\n      }\r\n    }\r\n  }, [photo.url])\r\n  const googleProxyURL =\r\n    'https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&refresh=2592000&url='\r\n  const renderPhoto = (\r\n    <img\r\n      src={googleProxyURL + encodeURIComponent(photo.url)}\r\n      alt='post-avatar'\r\n      className='post-photo'\r\n      ref={imgRef}\r\n      crossOrigin='anonymous'\r\n    />\r\n  )\r\n\r\n  return (\r\n    <StyledSection\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      isDarkTheme={toggleState.isDarkTheme ? 1 : 0}\r\n      isLikedByCurrentUser={isLikedByCurrentUser ? 1 : 0}\r\n      hasComments={postCmts?.length > 0 ? 1 : 0}\r\n      hasLikes={likes?.length > 0 ? 1 : 0}\r\n      isUserSignedIn={isUserSignedIn ? 1 : 0}\r\n      isShowingComments={isShowingComments ? 1 : 0}\r\n      bgGradient={bgGradient}\r\n      isImgTooHigh={\r\n        imgRef.current &&\r\n        imgRef.current.clientHeight >=\r\n          60 * parseFloat(getComputedStyle(document.documentElement).fontSize)\r\n          ? 1\r\n          : 0\r\n      }\r\n    >\r\n      <div id='user-info'>\r\n        <Link to={`/faekbook/${userID}`}>\r\n          <img\r\n            src={\r\n              userID === currentUserInfo?.uid\r\n                ? CUAvatarURL || defaultAvatar\r\n                : postAvatarURL || defaultAvatar\r\n            }\r\n            alt='avatar'\r\n          />\r\n        </Link>\r\n        <div className='info'>\r\n          <div className='name'>\r\n            <Link to={`/faekbook/${userID}`}>{fullname}</Link>\r\n          </div>\r\n          {`${format(fromUnixTime(date.seconds), 'yyyy, MMM d')} at ${format(\r\n            fromUnixTime(date.seconds),\r\n            'h:mm a'\r\n          )}`}\r\n        </div>\r\n      </div>\r\n\r\n      {isShowingModal && postID && (\r\n        <PostDropDownModal\r\n          postID={postID}\r\n          isShowingModal={isShowingModal}\r\n          setIsShowingModal={setIsShowingModal}\r\n          photoID={photo.id}\r\n          comments={comments}\r\n        />\r\n      )}\r\n\r\n      {userID === currentUserInfo?.uid && (\r\n        <div\r\n          ref={threeDotsNode}\r\n          className='three-dots'\r\n          onClick={() => setIsShowingModal(!isShowingModal)}\r\n        >\r\n          <BsThreeDots className='icon' />\r\n        </div>\r\n      )}\r\n\r\n      <main id='content'>{content}</main>\r\n\r\n      {photo.url && <div id='post-photo'>{renderPhoto}</div>}\r\n\r\n      <div id='num-likes-cmts'>\r\n        <div className='likes'>\r\n          {likes.length >= 1 && (\r\n            <>\r\n              <BlueBgLikeIcon setIsShowingViewLikes={setIsShowingViewLikes} />\r\n              <span\r\n                className='number-of-likes'\r\n                onClick={() => setIsShowingViewLikes(true)}\r\n              >\r\n                {likes.length}\r\n              </span>\r\n              {isShowingViewLikes && (\r\n                <ViewLikes\r\n                  setIsShowingViewLikes={setIsShowingViewLikes}\r\n                  likes={likes}\r\n                />\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n        <div className='comments'>\r\n          {comments?.length > 0 && (\r\n            <>\r\n              {comments?.length} comment{comments?.length > 1 && 's'}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div id='like-comment'>\r\n        <div\r\n          className='like'\r\n          onClick={() =>\r\n            isUserSignedIn &&\r\n            postID &&\r\n            DB.like(currentUserInfo?.uid, postID, 'posts')\r\n          }\r\n        >\r\n          <AiFillLike className='icon' />\r\n          <span>Like</span>\r\n        </div>\r\n        <div\r\n          className='comments'\r\n          onClick={() =>\r\n            comments?.length > 0\r\n              ? setIsShowingComments(!isShowingComments)\r\n              : isUserSignedIn\r\n              ? setIsShowingComments(!isShowingComments)\r\n              : undefined\r\n          }\r\n        >\r\n          {isShowingComments ? (\r\n            <FaCommentSlash className='icon' />\r\n          ) : (\r\n            <FaComment className='icon' />\r\n          )}\r\n          <span>{isShowingComments ? 'Hide' : 'Show'} Comments</span>\r\n        </div>\r\n      </div>\r\n\r\n      {isShowingComments && (\r\n        <>\r\n          <div id='comments'>{renderComments}</div>\r\n          {isUserSignedIn && (\r\n            <form className='comment-input' onSubmit={postComment}>\r\n              <img src={CUAvatarURL || defaultAvatar} alt='avatar' />\r\n              <input\r\n                value={commentInput}\r\n                placeholder='Write a comment...'\r\n                onChange={e => {\r\n                  setCommentInput(e.target.value)\r\n                }}\r\n              ></input>\r\n            </form>\r\n          )}\r\n        </>\r\n      )}\r\n    </StyledSection>\r\n  )\r\n}\r\n\r\nconst StyledSection = styled('section')<{\r\n  isDarkTheme: number\r\n  isLikedByCurrentUser: number\r\n  hasComments: number\r\n  hasLikes: number\r\n  isUserSignedIn: number\r\n  isShowingComments: number\r\n  bgGradient: string\r\n  isImgTooHigh: number\r\n}>`\r\n  position: relative;\r\n  background-color: ${p => p.theme.main_bgclr};\r\n  color: ${p => p.theme.font};\r\n  width: 50rem;\r\n  max-width: 100%;\r\n  margin-inline: auto;\r\n  border-radius: 1rem;\r\n  margin-top: 2rem;\r\n  padding-bottom: ${p => (p.isShowingComments ? '1.5rem' : '0')};\r\n  & > .three-dots {\r\n    position: absolute;\r\n    right: 1.75rem;\r\n    top: 1.5rem;\r\n    padding: 0.75rem;\r\n    border-radius: 50%;\r\n    :hover {\r\n      background-color: ${p => p.theme.theme_toggler_bgclr};\r\n      cursor: pointer;\r\n    }\r\n    .icon {\r\n      font-size: 1.5rem;\r\n    }\r\n  }\r\n  #user-info {\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    column-gap: 1rem;\r\n    padding: 1.5rem 1.5rem 0;\r\n    img {\r\n      height: 4rem;\r\n      width: 4rem;\r\n      ${imageObjectSettings}\r\n    }\r\n    .info {\r\n      flex-grow: 1;\r\n      display: flex;\r\n      flex-flow: column;\r\n      justify-content: space-around;\r\n      height: 3.5rem;\r\n      .name {\r\n        a {\r\n          text-decoration: none;\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          color: ${p => p.theme.font};\r\n          :hover {\r\n            text-decoration: underline;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  #content {\r\n    font-size: 1.5rem;\r\n    padding: 1.5rem 1.5rem;\r\n    word-wrap: break-word;\r\n    white-space: pre-wrap;\r\n    line-height: 1.25;\r\n  }\r\n  #post-photo {\r\n    text-align: center;\r\n    line-height: 0;\r\n    background-color: ${p => p.bgGradient};\r\n    .post-photo {\r\n      border-radius: initial;\r\n      max-height: 60rem;\r\n      ${p =>\r\n        p.isImgTooHigh\r\n          ? css`\r\n              max-width: 100%;\r\n            `\r\n          : css`\r\n              width: 100%;\r\n            `}\r\n    }\r\n  }\r\n  #num-likes-cmts {\r\n    padding-inline: 1.5rem;\r\n    padding-block: ${p => (p.hasLikes || p.hasComments ? '1.25rem' : '0')};\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .likes {\r\n      position: relative;\r\n      display: flex;\r\n      align-items: center;\r\n      column-gap: 0.5rem;\r\n      img {\r\n        height: 1.75rem;\r\n        width: 1.75rem;\r\n        :hover {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      .number-of-likes {\r\n        font-size: 1.25rem;\r\n        :hover {\r\n          cursor: pointer;\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n    }\r\n    .comments {\r\n      line-height: 1.8rem;\r\n      font-size: 1.25rem;\r\n    }\r\n  }\r\n  #like-comment {\r\n    border-block: ${p => (p.isDarkTheme ? '#474747' : '#dddfe2')} 1px solid;\r\n    border-bottom: ${p => p.isShowingComments || 'none'};\r\n    padding: 0.5rem 1.5rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    column-gap: 0.5rem;\r\n    .like,\r\n    .comments {\r\n      height: 3.25rem;\r\n      border-radius: ${globalValues.dropdown_menu_bdr_rds};\r\n      width: 50%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      column-gap: 0.75rem;\r\n      background-color: ${p => p.theme.main_bgclr};\r\n      font-size: 1.25rem;\r\n      font-weight: 600;\r\n      .icon {\r\n        font-size: 1.75rem;\r\n      }\r\n    }\r\n    .like {\r\n      color: ${p =>\r\n        p.isUserSignedIn\r\n          ? p.isLikedByCurrentUser\r\n            ? '#036ee2'\r\n            : 'unset'\r\n          : p.isDarkTheme\r\n          ? '#525252ac'\r\n          : '#ebebebae'};\r\n      :hover {\r\n        cursor: ${p => (p.isUserSignedIn ? 'pointer' : 'not-allowed')};\r\n        background-color: ${p =>\r\n          p.isUserSignedIn\r\n            ? p.isDarkTheme\r\n              ? '#64646471'\r\n              : '#ebebebae'\r\n            : 'unset'};\r\n      }\r\n    }\r\n    .comments {\r\n      color: ${p =>\r\n        p.hasComments\r\n          ? 'unset'\r\n          : p.isUserSignedIn\r\n          ? 'unset'\r\n          : p.isDarkTheme\r\n          ? '#525252ac'\r\n          : '#ebebebae'};\r\n      :hover {\r\n        cursor: ${p =>\r\n          p.isUserSignedIn\r\n            ? 'pointer'\r\n            : p.hasComments\r\n            ? 'pointer'\r\n            : 'not-allowed'};\r\n        background-color: ${p =>\r\n          p.isUserSignedIn\r\n            ? p.isDarkTheme\r\n              ? '#64646471'\r\n              : '#ebebebae'\r\n            : p.hasComments\r\n            ? p.isDarkTheme\r\n              ? '#64646471'\r\n              : '#ebebebae'\r\n            : 'unset'};\r\n      }\r\n    }\r\n  }\r\n  #comments {\r\n    padding: 1rem 1.5rem 0;\r\n    margin-bottom: -0.75rem;\r\n    display: flex;\r\n    flex-flow: column;\r\n    row-gap: 0.75rem;\r\n  }\r\n  form.comment-input {\r\n    background-color: ${p => p.theme.main_bgclr};\r\n    display: flex;\r\n    align-items: center;\r\n    column-gap: 1rem;\r\n    padding: 1.5rem 1.5rem 0;\r\n    img {\r\n      height: 3.5rem;\r\n      width: 3.5rem;\r\n      background: ${p => p.theme.theme_toggler_bgclr};\r\n      ${imageObjectSettings}\r\n    }\r\n    input {\r\n      font-family: inherit;\r\n      color: ${p => p.theme.font};\r\n      border: none;\r\n      outline: none;\r\n      flex-grow: 1;\r\n      padding: 1rem 1.5rem;\r\n      font-size: 1.5rem;\r\n      border-radius: 2rem;\r\n      background: ${p => p.theme.whats_on_ur_mind_bgclr};\r\n      display: flex;\r\n      align-items: center;\r\n      :hover {\r\n        cursor: text;\r\n        filter: brightness(${p => (p.isDarkTheme ? '1.1' : '0.95')});\r\n      }\r\n      ::placeholder {\r\n        color: ${p => p.theme.font_lighter};\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default Post\r\n","import { useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport Context from '../utils/Context'\r\nimport { themes } from '../styles/themes'\r\nimport { defaultAvatar } from '../utils/defaultPhotos'\r\nimport { imageObjectSettings } from '../styles/globalValues'\r\n\r\nexport default function WhatsOnYourMind() {\r\n  const { toggleState, dispatchDimBgModal, isUserSignedIn, CUAvatarURL } =\r\n    useContext(Context)\r\n  return (\r\n    <StyledSection theme={toggleState.isDarkTheme ? themes.dark : themes.light}>\r\n      <img\r\n        src={isUserSignedIn ? CUAvatarURL || defaultAvatar : undefined}\r\n        alt='avatar'\r\n      />\r\n      <div onClick={() => dispatchDimBgModal({ type: 'CREATE_POST' })}>\r\n        What's on your mind?\r\n      </div>\r\n    </StyledSection>\r\n  )\r\n}\r\n\r\nconst StyledSection = styled.section`\r\n  background-color: ${p => p.theme.main_bgclr};\r\n  width: 50rem;\r\n  max-width: 100%;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  column-gap: 1rem;\r\n  margin-inline: auto;\r\n  border-radius: 1rem;\r\n  margin-top: 2rem;\r\n  img {\r\n    height: 4rem;\r\n    width: 4rem;\r\n    background: ${p => p.theme.theme_toggler_bgclr};\r\n    ${imageObjectSettings};\r\n  }\r\n  div {\r\n    color: ${p => p.theme.font_lighter};\r\n    flex-grow: 1;\r\n    padding-left: 2rem;\r\n    font-size: 1.5rem;\r\n    height: 4rem;\r\n    border-radius: 2rem;\r\n    background: ${p => p.theme.whats_on_ur_mind_bgclr};\r\n    display: flex;\r\n    align-items: center;\r\n    :hover {\r\n      cursor: pointer;\r\n      filter: brightness(${p => (p.theme.type === 'dark' ? '1.1' : '0.95')});\r\n    }\r\n  }\r\n`\r\n","import { collection, getDocs, limit, orderBy, query } from '@firebase/firestore'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { db, DB } from '../firebaseConfig'\r\nimport Context from '../utils/Context'\r\nimport ShowMoreButton from '../utils/ShowMoreButton'\r\nimport { themes } from '../styles/themes'\r\nimport AllUsers from './AllUsers'\r\nimport Post from './Post'\r\nimport WhatsOnYourMind from './WhatsOnYourMind'\r\n\r\nconst MainPage: React.FC<any> = () => {\r\n  const { toggleState, isUserSignedIn } = useContext(Context)\r\n  const [allPosts, setAllPosts] = useState<any>(null)\r\n  const [postsNumLimit, setPostsNumLimit] = useState<number>(5)\r\n  const [hasShownAllPosts, setHasShownAllPosts] = useState<boolean>(false)\r\n\r\n  useEffect(() => {\r\n    getDocs(collection(db, 'posts')).then(posts => {\r\n      postsNumLimit >= posts.size\r\n        ? setHasShownAllPosts(true)\r\n        : setHasShownAllPosts(false)\r\n    })\r\n    console.log('render mainpage limit posts')\r\n  }, [postsNumLimit, allPosts])\r\n\r\n  //! RENDER POSTS */\r\n  useEffect(() => {\r\n    const postsRef = collection(db, 'posts')\r\n    const q = query(postsRef, orderBy('date', 'desc'), limit(postsNumLimit))\r\n    const unsub = DB.setSnapshotListener(q, setAllPosts)\r\n    console.log('MainPage renders')\r\n    return () => {\r\n      unsub()\r\n    }\r\n  }, [postsNumLimit])\r\n  const renderPosts = allPosts?.map((p: any) => (\r\n    <Post\r\n      key={p.id}\r\n      postID={p.id}\r\n      userID={p.userID}\r\n      fullname={p.fullname}\r\n      date={p.date}\r\n      content={p.content}\r\n      likes={p.likes}\r\n      photo={p.photo}\r\n      comments={p.comments}\r\n    />\r\n  ))\r\n  //! RENDER POSTS END*/\r\n\r\n  return (\r\n    <StyledDiv theme={toggleState.isDarkTheme ? themes.dark : themes.light}>\r\n      {isUserSignedIn && <WhatsOnYourMind />}\r\n      <AllUsers />\r\n      {renderPosts}\r\n      {hasShownAllPosts || (\r\n        <ShowMoreButton\r\n          addMorePosts={() => {\r\n            setPostsNumLimit(postsNumLimit + 5)\r\n          }}\r\n        />\r\n      )}\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled.div`\r\n  color: ${p => p.theme.font};\r\n  padding-bottom: 3rem;\r\n  display: flex;\r\n  flex-flow: column;\r\n`\r\n\r\nexport default MainPage\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { defaultAvatar, defaultCoverImage } from '../utils/defaultPhotos'\r\nimport styled from 'styled-components'\r\nimport Context from '../utils/Context'\r\nimport { themes } from '../styles/themes'\r\nimport { AiOutlineCamera, AiFillCamera } from 'react-icons/ai'\r\nimport ColorThief from 'colorthief'\r\nimport useWindowSize, { Size } from '../utils/useWindowSize'\r\nimport WhatsOnYourMind from './WhatsOnYourMind'\r\nimport { DB, db, Storage, storage } from '../firebaseConfig'\r\nimport Post from './Post'\r\nimport { AiOutlineEdit } from 'react-icons/ai'\r\nimport {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  limit,\r\n  orderBy,\r\n  query,\r\n  where,\r\n} from '@firebase/firestore'\r\nimport {\r\n  deleteObject,\r\n  getDownloadURL,\r\n  ref,\r\n  uploadBytes,\r\n} from '@firebase/storage'\r\nimport { useParams } from 'react-router'\r\nimport ShowMoreButton from '../utils/ShowMoreButton'\r\nimport { imageObjectSettings } from '../styles/globalValues'\r\n\r\nconst ProfilePage: React.FC<any> = () => {\r\n  const {\r\n    toggleState,\r\n    isUserSignedIn,\r\n    currentUserInfo,\r\n    CUAvatarURL,\r\n    setCUAvatarURL,\r\n  } = useContext(Context)\r\n  const { userID }: { userID: string } = useParams()\r\n  const [userInfo, setUserInfo] = useState<any>(null)\r\n  const [userCoverImgURL, setCoverImageURL] = useState<any>(null)\r\n  const [userAvatarURL, setUserAvatarURL] = useState<any>(null)\r\n  const [userPosts, setUserPosts] = useState<any>(null)\r\n  const [editCoverPhotoHidden, setEditCoverPhotoHidden] = useState(false)\r\n  const [bgGradient, setBgGradient] = useState<string>('')\r\n  const [postsNumLimit, setPostsNumLimit] = useState<number>(5)\r\n  const [hasShownAllPosts, setHasShownAllPosts] = useState<boolean>(false)\r\n  const [isEdittingBio, setIsEdittingBio] = useState<boolean>(false)\r\n  const [isEdittingBioContent, setIsEdittingBioContent] = useState<string>('')\r\n  const [bio, setBio] = useState<string>('')\r\n\r\n  //*! LIMIT POSTS */\r\n  useEffect(() => {\r\n    if (currentUserInfo) {\r\n      const postsRef = collection(db, 'posts')\r\n      const q = query(postsRef, where('userID', '==', currentUserInfo.uid))\r\n      getDocs(q).then(posts => {\r\n        postsNumLimit >= posts.size\r\n          ? setHasShownAllPosts(true)\r\n          : setHasShownAllPosts(false)\r\n      })\r\n    }\r\n  }, [currentUserInfo, postsNumLimit, userPosts])\r\n  //*! LIMIT POSTS END */\r\n\r\n  useEffect(() => {\r\n    getDoc(doc(db, 'users', userID)).then(userSnap => {\r\n      const userInfo = userSnap.data()\r\n      setUserInfo(userInfo)\r\n    })\r\n    Storage.updatePhotoURL(userID, setUserAvatarURL, setCoverImageURL)\r\n    // * SET USER PHOTO/\r\n    const fileRef = ref(storage, `users/${userID}/avatar`)\r\n    getDownloadURL(fileRef)\r\n      .then(url => setUserAvatarURL(url))\r\n      .catch(e => console.log(e))\r\n    // * SET USER PHOTO END/\r\n  }, [userID])\r\n\r\n  //*! RENDER POSTS START */\r\n  useEffect(() => {\r\n    const postsRef = collection(db, 'posts')\r\n    const q = query(\r\n      postsRef,\r\n      where('userID', '==', userID),\r\n      orderBy('date', 'desc'),\r\n      limit(postsNumLimit)\r\n    )\r\n    const unsub = DB.setSnapshotListener(q, setUserPosts)\r\n    console.log('profile renders')\r\n    return () => {\r\n      unsub()\r\n    }\r\n  }, [postsNumLimit, userID])\r\n  const renderPosts = userPosts?.map((p: any) => (\r\n    <Post\r\n      key={p.id}\r\n      postID={p.id}\r\n      userID={p.userID}\r\n      fullname={p.fullname}\r\n      date={p.date}\r\n      content={p.content}\r\n      likes={p.likes}\r\n      photo={p.photo}\r\n      comments={p.comments}\r\n      is_profile_page={true}\r\n    />\r\n  ))\r\n  //*! RENDER POSTS END */\r\n\r\n  //*! EFFECTS START */\r\n  //* width size query for the edit cover photo button */\r\n  const size: Size = useWindowSize()\r\n  useEffect(() => {\r\n    const { width } = size\r\n    if (width !== undefined && width <= 900) {\r\n      setEditCoverPhotoHidden(true)\r\n    } else setEditCoverPhotoHidden(false)\r\n  }, [size])\r\n  //* get dorminant color of cover photo */\r\n  useEffect(() => {\r\n    const colorThief = new ColorThief()\r\n    const img: any = document.querySelector('#get-dominant-clr')\r\n    img.onload = () => {\r\n      const color = colorThief.getColor(img).toString()\r\n      setBgGradient(color)\r\n    }\r\n  }, [isUserSignedIn])\r\n  const googleProxyURL =\r\n    'https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?container=focus&refresh=2592000&url='\r\n  //? proxy server produces a more liberal CORS policy */\r\n  const userCover = googleProxyURL + encodeURIComponent(userCoverImgURL)\r\n  const defaultCover = googleProxyURL + encodeURIComponent(defaultCoverImage)\r\n  const renderCoverPhoto = (\r\n    <img\r\n      src={userCoverImgURL ? userCover : defaultCover}\r\n      alt=''\r\n      crossOrigin='anonymous'\r\n      id='get-dominant-clr'\r\n    />\r\n  )\r\n  //*! EFFECTS END */\r\n\r\n  const updatePhoto = (e: any) => {\r\n    const file = e.target.files[0]\r\n    if (file) {\r\n      const isAvatar = e.target.id === 'avatar'\r\n      const folderName = isAvatar ? 'avatar' : 'cover_image'\r\n      const fileRef = ref(storage, `users/${userID}/${folderName}`)\r\n      deleteObject(fileRef).catch(e => console.log(e))\r\n      uploadBytes(fileRef, file).then(() =>\r\n        getDownloadURL(fileRef).then(url =>\r\n          isAvatar\r\n            ? userID === currentUserInfo?.uid\r\n              ? setCUAvatarURL(url)\r\n              : setUserAvatarURL(url)\r\n            : setCoverImageURL(url)\r\n        )\r\n      )\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getDoc(doc(db, 'users', userID)).then((user: any) =>\r\n      setBio(user.data().short_bio)\r\n    )\r\n  }, [userID])\r\n\r\n  const updateBio = (e: any) => {\r\n    if (e.keyCode === 13) {\r\n      DB.updateUserInfo(currentUserInfo?.uid, {\r\n        short_bio: isEdittingBioContent,\r\n      })\r\n      setBio(isEdittingBioContent)\r\n      setIsEdittingBio(false)\r\n    } else if (e.keyCode === 27) setIsEdittingBio(false)\r\n  }\r\n\r\n  return (\r\n    <StyledDiv\r\n      theme={toggleState.isDarkTheme ? themes.dark : themes.light}\r\n      isDarkTheme={toggleState.isDarkTheme ? 1 : 0}\r\n      bgGradient={bgGradient}\r\n      editCoverPhotoHidden={editCoverPhotoHidden}\r\n    >\r\n      <header>\r\n        <div id='cover-image'>\r\n          {renderCoverPhoto}\r\n          <div className='avatar'>\r\n            <img\r\n              src={\r\n                userID === currentUserInfo?.uid\r\n                  ? CUAvatarURL || defaultAvatar\r\n                  : userAvatarURL || defaultAvatar\r\n              }\r\n              alt='avatar'\r\n            />\r\n            {userID === currentUserInfo?.uid && (\r\n              <label className='update-avatar'>\r\n                <input\r\n                  onChange={updatePhoto}\r\n                  id='avatar'\r\n                  type='file'\r\n                  accept='image/*'\r\n                  style={{ display: 'none' }}\r\n                />\r\n                {toggleState.isDarkTheme ? (\r\n                  <AiFillCamera className='icon' style={{ fill: 'white' }} />\r\n                ) : (\r\n                  <AiOutlineCamera className='icon' />\r\n                )}\r\n              </label>\r\n            )}\r\n          </div>\r\n          {userID === currentUserInfo?.uid && (\r\n            <label className='edit-cover-photo'>\r\n              <input\r\n                onChange={updatePhoto}\r\n                id='cover'\r\n                type='file'\r\n                accept='image/*'\r\n                style={{ display: 'none' }}\r\n              />\r\n              <AiFillCamera className='icon' /> <span>Edit Cover Photo</span>\r\n            </label>\r\n          )}\r\n        </div>\r\n\r\n        <div id='intro'>\r\n          <div className='name'>\r\n            {userInfo\r\n              ? `${userInfo.first_name} ${userInfo.last_name}`\r\n              : 'default name'}\r\n          </div>\r\n          <div className='short-description'>\r\n            {isEdittingBio ? (\r\n              <>\r\n                <textarea\r\n                  rows={3}\r\n                  maxLength={150}\r\n                  value={isEdittingBioContent}\r\n                  onChange={e => setIsEdittingBioContent(e.target.value)}\r\n                  onKeyDown={updateBio}\r\n                  autoFocus\r\n                  onFocus={e =>\r\n                    e.currentTarget.setSelectionRange(\r\n                      e.currentTarget.value.length,\r\n                      e.currentTarget.value.length\r\n                    )\r\n                  }\r\n                ></textarea>\r\n                <div className='cancel'>\r\n                  <span onClick={() => setIsEdittingBio(false)}>Cancel</span> or\r\n                  press Esc to cancel\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span className='bio'>{bio}</span>\r\n                {userID === currentUserInfo?.uid && (\r\n                  <div\r\n                    className='pen'\r\n                    onClick={() => {\r\n                      setIsEdittingBio(true)\r\n                      setIsEdittingBioContent(bio)\r\n                    }}\r\n                  >\r\n                    <AiOutlineEdit className='icon' />\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </header>\r\n      <main>\r\n        {userID === currentUserInfo?.uid && <WhatsOnYourMind />}\r\n        {renderPosts}\r\n        {hasShownAllPosts || (\r\n          <ShowMoreButton\r\n            addMorePosts={() => {\r\n              setPostsNumLimit(postsNumLimit + 5)\r\n            }}\r\n          />\r\n        )}\r\n      </main>\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nconst StyledDiv = styled('div')<{\r\n  bgGradient: string\r\n  editCoverPhotoHidden: boolean\r\n  isDarkTheme: number\r\n}>`\r\n  color: ${p => p.theme.font};\r\n  padding-bottom: 2rem;\r\n  display: flex;\r\n  flex-flow: column;\r\n  header {\r\n    background-color: ${p => p.theme.main_bgclr};\r\n    background: linear-gradient(\r\n      180deg,\r\n      rgba(${p => p.bgGradient}) 0%,\r\n      ${p => p.theme.main_bgclr} 70%\r\n    );\r\n    #cover-image {\r\n      position: relative;\r\n      width: 90rem;\r\n      max-width: 100%;\r\n      aspect-ratio: 5/2;\r\n      margin-inline: auto;\r\n      & > img {\r\n        border-radius: 0 0 10px 10px;\r\n        height: 100%;\r\n        width: 100%;\r\n        object-fit: cover;\r\n        object-position: 50% 50%;\r\n      }\r\n      .avatar {\r\n        position: absolute;\r\n        bottom: -4rem;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        width: 15rem;\r\n        height: 15rem;\r\n        padding: 0.5rem;\r\n        background-color: ${p => p.theme.main_bgclr};\r\n        border-radius: 50%;\r\n        img {\r\n          width: 100%;\r\n          height: 100%;\r\n          ${imageObjectSettings};\r\n        }\r\n        .update-avatar {\r\n          position: absolute;\r\n          right: 1.1rem;\r\n          bottom: 1.1rem;\r\n          padding: 0.5rem;\r\n          border-radius: 50%;\r\n          background-color: ${p => p.theme.avatar_pic_cam_icon_bgclr};\r\n          :hover {\r\n            cursor: pointer;\r\n            filter: brightness(1.1);\r\n          }\r\n          .icon {\r\n            height: 2rem;\r\n            width: 2rem;\r\n          }\r\n        }\r\n      }\r\n      .edit-cover-photo {\r\n        color: black;\r\n        position: absolute;\r\n        right: 2rem;\r\n        bottom: 3rem;\r\n        background-color: white;\r\n        padding: 0.5rem 1rem;\r\n        display: flex;\r\n        align-items: center;\r\n        column-gap: 1rem;\r\n        border-radius: 7px;\r\n        :hover {\r\n          cursor: pointer;\r\n          filter: brightness(0.95);\r\n        }\r\n        .icon {\r\n          height: 1.5rem;\r\n          width: 1.5rem;\r\n        }\r\n        span {\r\n          font-size: 1rem;\r\n          font-weight: 700;\r\n          display: ${p => (p.editCoverPhotoHidden ? 'none' : 'block')};\r\n        }\r\n      }\r\n    }\r\n    #intro {\r\n      padding: 5rem 2rem 2rem;\r\n      text-align: center;\r\n      .name {\r\n        font-size: 2.75rem;\r\n        font-weight: 800;\r\n      }\r\n      .short-description {\r\n        padding-top: 1rem;\r\n        font-size: 1.5rem;\r\n        .bio {\r\n          margin-right: 1rem;\r\n        }\r\n        textarea {\r\n          font-family: inherit;\r\n          color: ${p => p.theme.font};\r\n          border: none;\r\n          outline: none;\r\n          width: 65rem;\r\n          max-width: 100%;\r\n          padding: 1rem 1.5rem;\r\n          font-size: 1.5rem;\r\n          border-radius: 2rem;\r\n          background: ${p => p.theme.whats_on_ur_mind_bgclr};\r\n          resize: none;\r\n          overflow: hidden;\r\n          text-align: center;\r\n          :hover {\r\n            cursor: text;\r\n            filter: brightness(${p => (p.isDarkTheme ? '1.1' : '0.95')});\r\n          }\r\n          ::placeholder {\r\n            color: ${p => p.theme.font_lighter};\r\n          }\r\n        }\r\n        .cancel {\r\n          font-size: 1.25rem;\r\n          margin-top: 1rem;\r\n          span {\r\n            color: #036ee2;\r\n            :hover {\r\n              cursor: pointer;\r\n              text-decoration: underline;\r\n            }\r\n          }\r\n        }\r\n        .pen {\r\n          display: inline-block;\r\n          padding: 0.5rem;\r\n          border-radius: 50%;\r\n          color: ${p => p.theme.font};\r\n          :hover {\r\n            background-color: ${p => p.theme.theme_toggler_bgclr};\r\n            cursor: pointer;\r\n          }\r\n          .icon {\r\n            font-size: 1.5rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  main {\r\n    display: flex;\r\n    flex-flow: column;\r\n  }\r\n`\r\n\r\nexport default ProfilePage\r\n","import { useState, useEffect } from 'react'\r\n// Define general type for useWindowSize hook, which includes width and height\r\nexport interface Size {\r\n  width: number | undefined\r\n  height: number | undefined\r\n}\r\n\r\n// Usage\r\n// function App() {\r\n//   const size: Size = useWindowSize()\r\n//   return (\r\n//     <div>\r\n//       {size.width}px / {size.height}px\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n// Hook\r\nexport default function useWindowSize(): Size {\r\n  // Initialize state with undefined width/height so server and client renders match\r\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n  const [windowSize, setWindowSize] = useState<Size>({\r\n    width: undefined,\r\n    height: undefined,\r\n  })\r\n  useEffect(() => {\r\n    // Handler to call on window resize\r\n    function handleResize() {\r\n      // Set window width/height to state\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      })\r\n    }\r\n    // Add event listener\r\n    window.addEventListener('resize', handleResize)\r\n    // Call handler right away so state gets updated with initial window size\r\n    handleResize()\r\n    // Remove event listener on cleanup\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, []) // Empty array ensures that effect is only run on mount\r\n  return windowSize\r\n}\r\n","import styled, { css } from 'styled-components'\r\nimport Navbar from './components/Navbar'\r\nimport { useEffect, useReducer, useState } from 'react'\r\nimport { toggleReducer, authenModalReducer } from './reducers'\r\nimport Context from './utils/Context'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport LogInModal from './components/Modals/LogInModal'\r\nimport SignUpModal from './components/Modals/SignUpModal'\r\nimport { themes } from './styles/themes'\r\nimport DropDownMenu from './components/Modals/DropDownMenu'\r\nimport { auth, db, Storage } from './firebaseConfig'\r\nimport { onAuthStateChanged } from '@firebase/auth'\r\nimport { collection, deleteDoc, doc, getDoc, where } from '@firebase/firestore'\r\nimport AddEditPostModal from './components/Modals/AddEditPostModal'\r\nimport MainPage from './components/MainPage'\r\nimport ProfilePage from './components/ProfilePage'\r\n\r\nconst App: React.FC<any> = () => {\r\n  const [isUserSignedIn, setIsUserSignedIn] = useState<boolean>()\r\n  const [currentUserInfo, setCurrentUserInfo] = useState<any>(null)\r\n  const [CUAvatarURL, setCUAvatarURL] = useState<any>(null)\r\n  const [toggleState, dispatchToggle] = useReducer(toggleReducer, {\r\n    isDarkTheme: false,\r\n    dropDownMenuIsVisible: false,\r\n  })\r\n  const [dimBgModal, dispatchDimBgModal] = useReducer(authenModalReducer, {\r\n    action: 'close modals',\r\n  })\r\n  //? CBE: Currently Being Editted /\r\n  const [CBEPost, setCBEPost] = useState<{ id: string; photoID: string }>()\r\n\r\n  useEffect(() => {\r\n    const q =\r\n      (collection(db, 'comments'),\r\n      where('postID', '==', 'Qbm6Km4bcXEqO8vNhwmP'))\r\n    deleteDoc(doc(db, 'comments', 'A0F5WOfUvEXDquodTE1b'))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    onAuthStateChanged(auth, async user => {\r\n      if (user) {\r\n        setIsUserSignedIn(true)\r\n        getDoc(doc(db, 'users', user.uid)).then(userSnap => {\r\n          //* get current user specific info\r\n          const currentUserInfo = userSnap.data()\r\n          setCurrentUserInfo(currentUserInfo)\r\n          //* todo set theme\r\n          currentUserInfo?.is_dark_theme\r\n            ? dispatchToggle({ type: 'DARK_THEME' })\r\n            : dispatchToggle({ type: 'LIGHT_THEME' })\r\n        })\r\n      } else {\r\n        setIsUserSignedIn(false)\r\n        setCurrentUserInfo(null)\r\n        setCUAvatarURL(null)\r\n        dispatchToggle({ type: 'LIGHT_THEME' })\r\n      }\r\n    })\r\n    console.log('auth change render app')\r\n  }, [])\r\n  useEffect(() => {\r\n    if (currentUserInfo) {\r\n      const uid = currentUserInfo?.uid\r\n      Storage.updatePhotoURL(uid, setCUAvatarURL)\r\n    }\r\n    console.log('render app')\r\n  }, [currentUserInfo, isUserSignedIn])\r\n\r\n  const renderModal = (dimBgModal: any) => {\r\n    switch (dimBgModal.action) {\r\n      case 'show login modal':\r\n        return <LogInModal />\r\n      case 'show signup modal':\r\n        return <SignUpModal />\r\n      case 'show create-post modal':\r\n        return <AddEditPostModal />\r\n      case 'show edit-post':\r\n        return <AddEditPostModal CBEPost={CBEPost} />\r\n      case 'close modals':\r\n        return\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        isUserSignedIn,\r\n        currentUserInfo,\r\n        toggleState,\r\n        dispatchToggle,\r\n        dimBgModal,\r\n        dispatchDimBgModal,\r\n        CUAvatarURL,\r\n        setCUAvatarURL,\r\n        setCBEPost,\r\n      }}\r\n    >\r\n      <Router>\r\n        <StyledDiv\r\n          theme={toggleState.isDarkTheme === true ? themes.dark : themes.light}\r\n          authenType={dimBgModal.action}\r\n          toggleState={toggleState}\r\n          onClick={() => {\r\n            toggleState.dropDownMenuIsVisible &&\r\n              dispatchToggle({ type: 'TOGGLE_DROP_DOWN_MENU' })\r\n            toggleState.postModalIsVisible &&\r\n              dispatchToggle({ type: 'TOGGLE_POST_MODAL' })\r\n          }}\r\n        >\r\n          <Navbar />\r\n          <Switch>\r\n            <Route exact path='/faekbook/' component={MainPage} />\r\n            <Route exact path='/faekbook/:userID' component={ProfilePage} />\r\n          </Switch>\r\n          {/* modals */}\r\n          <div className='dim-bg-modal'>{renderModal(dimBgModal)}</div>\r\n          {toggleState.dropDownMenuIsVisible && <DropDownMenu />}\r\n        </StyledDiv>\r\n      </Router>\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nconst Screen = css`\r\n  content: '';\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 100%;\r\n  z-index: 100;\r\n`\r\n\r\nconst StyledDiv = styled('div')<{ authenType: string; toggleState: any }>`\r\n  position: relative;\r\n  background: ${p => p.theme.body};\r\n  min-height: 100vh;\r\n\r\n  ::after {\r\n    ${p =>\r\n      (p.authenType !== 'close modals' || p.toggleState.createPostIsVisible) &&\r\n      Screen}\r\n    background-color: ${p =>\r\n      p.theme.type === 'dark' ? '#00000063' : '#ffffff92'};\r\n  }\r\n  .dim-bg-modal {\r\n    position: fixed;\r\n    background: white;\r\n    border-radius: 10px;\r\n    top: 12%;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    z-index: 200;\r\n    border-radius: 10px;\r\n    box-shadow: ${p => p.theme.bxShdw};\r\n  }\r\n`\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './styles/reset.css'\nimport { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n    * {\n       box-sizing: border-box;\n    }\n    html {\n      font-size: 70%;\n      @media (min-width: 768px) {\n        font-size: 80%;\n      }\n      @media (min-width: 1024px) {\n        font-size: 90%;\n      }\n    }\n    body {\n      font-size: 1em;\n      font-family: 'Roboto', sans-serif;\n      user-select: none;\n    }\n    img {\n      border-radius: 50%;\n    }\n  `\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalStyle />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}